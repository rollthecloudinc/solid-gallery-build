import{a as Vt}from"./chunk-K25D6HO4.js";import{a as w,b as ue}from"./chunk-2NFLSA4Y.js";import{inject as nn}from"@angular/core";import{ContentBinding as on,ContentPluginEditorOptions as sn}from"@rollthecloudinc/content";import{AttributeSerializerService as an}from"@rollthecloudinc/attributes";import{__extends as Qt}from"tslib";function p(t){return typeof t=="function"}import{__read as Lt,__spreadArray as Ht,__values as Nt}from"tslib";function Ce(t){var r=function(i){Error.call(i),i.stack=new Error().stack},e=t(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ie=Ce(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(i,n){return n+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function $(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var S=(function(){function t(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var r,e,i,n,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=Nt(a),c=l.next();!c.done;c=l.next()){var m=c.value;m.remove(this)}}catch(I){r={error:I}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}else a.remove(this);var f=this.initialTeardown;if(p(f))try{f()}catch(I){s=I instanceof Ie?I.errors:[I]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var T=Nt(y),z=T.next();!z.done;z=T.next()){var le=z.value;try{jt(le)}catch(I){s=s??[],I instanceof Ie?s=Ht(Ht([],Lt(s)),Lt(I.errors)):s.push(I)}}}catch(I){i={error:I}}finally{try{z&&!z.done&&(n=T.return)&&n.call(T)}finally{if(i)throw i.error}}}if(s)throw new Ie(s)}},t.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)jt(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},t.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},t.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},t.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&$(e,r)},t.prototype.remove=function(r){var e=this._finalizers;e&&$(e,r),r instanceof t&&r._removeParent(this)},t.EMPTY=(function(){var r=new t;return r.closed=!0,r})(),t})();var ot=S.EMPTY;function we(t){return t instanceof S||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function jt(t){p(t)?t():t.unsubscribe()}var k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};import{__read as Bt,__spreadArray as $t}from"tslib";var Q={setTimeout:function(t,r){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var n=Q.delegate;return n?.setTimeout?n.setTimeout.apply(n,$t([t,r],Bt(e))):setTimeout.apply(void 0,$t([t,r],Bt(e)))},clearTimeout:function(t){var r=Q.delegate;return(r?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Te(t){Q.setTimeout(function(){var r=k.onUnhandledError;if(r)r(t);else throw t})}function U(){}var Ut=(function(){return st("C",void 0,void 0)})();function Wt(t){return st("E",void 0,t)}function qt(t){return st("N",t,void 0)}function st(t,r,e){return{kind:t,value:r,error:e}}var W=null;function K(t){if(k.useDeprecatedSynchronousErrorHandling){var r=!W;if(r&&(W={errorThrown:!1,error:null}),t(),r){var e=W,i=e.errorThrown,n=e.error;if(W=null,i)throw n}}else t()}function Yt(t){k.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=t)}var me=(function(t){Qt(r,t);function r(e){var i=t.call(this)||this;return i.isStopped=!1,e?(i.destination=e,we(e)&&e.add(i)):i.destination=fr,i}return r.create=function(e,i,n){return new De(e,i,n)},r.prototype.next=function(e){this.isStopped?lt(qt(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?lt(Wt(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?lt(Ut,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r})(S);var ur=Function.prototype.bind;function at(t,r){return ur.call(t,r)}var mr=(function(){function t(r){this.partialObserver=r}return t.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(i){Ee(i)}},t.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(i){Ee(i)}else Ee(r)},t.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){Ee(e)}},t})(),De=(function(t){Qt(r,t);function r(e,i,n){var s=t.call(this)||this,a;if(p(e)||!e)a={next:e??void 0,error:i??void 0,complete:n??void 0};else{var l;s&&k.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=function(){return s.unsubscribe()},a={next:e.next&&at(e.next,l),error:e.error&&at(e.error,l),complete:e.complete&&at(e.complete,l)}):a=e}return s.destination=new mr(a),s}return r})(me);function Ee(t){k.useDeprecatedSynchronousErrorHandling?Yt(t):Te(t)}function pr(t){throw t}function lt(t,r){var e=k.onStoppedNotification;e&&Q.setTimeout(function(){return e(t,r)})}var fr={closed:!0,next:U,error:pr,complete:U};var Z=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function G(t){return t}function Kt(t){return t.length===0?G:t.length===1?t[0]:function(e){return t.reduce(function(i,n){return n(i)},e)}}var h=(function(){function t(r){r&&(this._subscribe=r)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(r,e,i){var n=this,s=hr(r)?r:new De(r,e,i);return K(function(){var a=n,l=a.operator,c=a.source;s.add(l?l.call(s,c):c?n._subscribe(s):n._trySubscribe(s))}),s},t.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},t.prototype.forEach=function(r,e){var i=this;return e=Zt(e),new e(function(n,s){var a=new De({next:function(l){try{r(l)}catch(c){s(c),a.unsubscribe()}},error:s,complete:n});i.subscribe(a)})},t.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},t.prototype[Z]=function(){return this},t.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Kt(r)(this)},t.prototype.toPromise=function(r){var e=this;return r=Zt(r),new r(function(i,n){var s;e.subscribe(function(a){return s=a},function(a){return n(a)},function(){return i(s)})})},t.create=function(r){return new t(r)},t})();function Zt(t){var r;return(r=t??k.Promise)!==null&&r!==void 0?r:Promise}function dr(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}function hr(t){return t&&t instanceof me||dr(t)&&we(t)}function gr(t){return p(t?.lift)}function d(t){return function(r){if(gr(r))return r.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}import{__extends as yr}from"tslib";function g(t,r,e,i,n){return new vr(t,r,e,i,n)}var vr=(function(t){yr(r,t);function r(e,i,n,s,a,l){var c=t.call(this,e)||this;return c.onFinalize=a,c.shouldUnsubscribe=l,c._next=i?function(m){try{i(m)}catch(f){e.error(f)}}:t.prototype._next,c._error=s?function(m){try{s(m)}catch(f){e.error(f)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=n?function(){try{n()}catch(m){e.error(m)}finally{this.unsubscribe()}}:t.prototype._complete,c}return r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;t.prototype.unsubscribe.call(this),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},r})(me);import{__read as Jt,__spreadArray as Xt}from"tslib";var J={schedule:function(t){var r=requestAnimationFrame,e=cancelAnimationFrame,i=J.delegate;i&&(r=i.requestAnimationFrame,e=i.cancelAnimationFrame);var n=r(function(s){e=void 0,t(s)});return new S(function(){return e?.(n)})},requestAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=J.delegate;return(e?.requestAnimationFrame||requestAnimationFrame).apply(void 0,Xt([],Jt(t)))},cancelAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=J.delegate;return(e?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,Xt([],Jt(t)))},delegate:void 0};import{__extends as ii,__values as br}from"tslib";var ei=Ce(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var E=(function(t){ii(r,t);function r(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var i=new ti(this,this);return i.operator=e,i},r.prototype._throwIfClosed=function(){if(this.closed)throw new ei},r.prototype.next=function(e){var i=this;K(function(){var n,s;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var a=br(i.currentObservers),l=a.next();!l.done;l=a.next()){var c=l.value;c.next(e)}}catch(m){n={error:m}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}}})},r.prototype.error=function(e){var i=this;K(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=e;for(var n=i.observers;n.length;)n.shift().error(e)}})},r.prototype.complete=function(){var e=this;K(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var i=e.observers;i.length;)i.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var i=this,n=this,s=n.hasError,a=n.isStopped,l=n.observers;return s||a?ot:(this.currentObservers=null,l.push(e),new S(function(){i.currentObservers=null,$(l,e)}))},r.prototype._checkFinalizedStatuses=function(e){var i=this,n=i.hasError,s=i.thrownError,a=i.isStopped;n?e.error(s):a&&e.complete()},r.prototype.asObservable=function(){var e=new h;return e.source=this,e},r.create=function(e,i){return new ti(e,i)},r})(h);var ti=(function(t){ii(r,t);function r(e,i){var n=t.call(this)||this;return n.destination=e,n.source=i,n}return r.prototype.next=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)},r.prototype.error=function(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)},r.prototype.complete=function(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)},r.prototype._subscribe=function(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:ot},r})(E);import{__extends as xr}from"tslib";var O=(function(t){xr(r,t);function r(e){var i=t.call(this)||this;return i._value=e,i}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return!i.closed&&e.next(this._value),i},r.prototype.getValue=function(){var e=this,i=e.hasError,n=e.thrownError,s=e._value;if(i)throw n;return this._throwIfClosed(),s},r.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},r})(E);var ct={now:function(){return(ct.delegate||Date).now()},delegate:void 0};import{__extends as Sr}from"tslib";import{__extends as _r}from"tslib";var ri=(function(t){_r(r,t);function r(e,i){return t.call(this)||this}return r.prototype.schedule=function(e,i){return i===void 0&&(i=0),this},r})(S);import{__read as ni,__spreadArray as oi}from"tslib";var pe={setInterval:function(t,r){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var n=pe.delegate;return n?.setInterval?n.setInterval.apply(n,oi([t,r],ni(e))):setInterval.apply(void 0,oi([t,r],ni(e)))},clearInterval:function(t){var r=pe.delegate;return(r?.clearInterval||clearInterval)(t)},delegate:void 0};var ze=(function(t){Sr(r,t);function r(e,i){var n=t.call(this,e,i)||this;return n.scheduler=e,n.work=i,n.pending=!1,n}return r.prototype.schedule=function(e,i){var n;if(i===void 0&&(i=0),this.closed)return this;this.state=e;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(a,this.id,i),this},r.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),pe.setInterval(e.flush.bind(e,this),n)},r.prototype.recycleAsyncId=function(e,i,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&pe.clearInterval(i)},r.prototype.execute=function(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,i){var n=!1,s;try{this.work(e)}catch(a){n=!0,s=a||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,i=e.id,n=e.scheduler,s=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,$(s,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r})(ri);import{__extends as Cr}from"tslib";var ut=(function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,i){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(i,e)},t.now=ct.now,t})();var Ae=(function(t){Cr(r,t);function r(e,i){i===void 0&&(i=ut.now);var n=t.call(this,e,i)||this;return n.actions=[],n._active=!1,n}return r.prototype.flush=function(e){var i=this.actions;if(this._active){i.push(e);return}var n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}},r})(ut);var fe=new Ae(ze),si=fe;import{__extends as Ir}from"tslib";var ai=(function(t){Ir(r,t);function r(e,i){var n=t.call(this,e,i)||this;return n.scheduler=e,n.work=i,n}return r.prototype.requestAsyncId=function(e,i,n){return n===void 0&&(n=0),n!==null&&n>0?t.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=J.requestAnimationFrame(function(){return e.flush(void 0)})))},r.prototype.recycleAsyncId=function(e,i,n){var s;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,i,n);var a=e.actions;i!=null&&((s=a[a.length-1])===null||s===void 0?void 0:s.id)!==i&&(J.cancelAnimationFrame(i),e._scheduled=void 0)},r})(ze);import{__extends as wr}from"tslib";var li=(function(t){wr(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.flush=function(e){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var n=this.actions,s;e=e||n.shift();do if(s=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,s){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw s}},r})(Ae);var mt=new li(ai);var N=new h(function(t){return t.complete()});function Pe(t){return t&&p(t.schedule)}function pt(t){return t[t.length-1]}function ci(t){return p(pt(t))?t.pop():void 0}function F(t){return Pe(pt(t))?t.pop():void 0}function ui(t,r){return typeof pt(t)=="number"?t.pop():r}import{__asyncValues as zr,__awaiter as Ar,__generator as Pr,__values as Or}from"tslib";var X=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Oe(t){return p(t?.then)}function Me(t){return p(t[Z])}function ke(t){return Symbol.asyncIterator&&p(t?.[Symbol.asyncIterator])}function Ge(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Tr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fe=Tr();function Re(t){return p(t?.[Fe])}import{__asyncGenerator as Er,__await as ft,__generator as Dr}from"tslib";function Ve(t){return Er(this,arguments,function(){var e,i,n,s;return Dr(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ft(e.read())];case 3:return i=a.sent(),n=i.value,s=i.done,s?[4,ft(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ft(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Le(t){return p(t?.getReader)}function x(t){if(t instanceof h)return t;if(t!=null){if(Me(t))return Mr(t);if(X(t))return kr(t);if(Oe(t))return Gr(t);if(ke(t))return mi(t);if(Re(t))return Fr(t);if(Le(t))return Rr(t)}throw Ge(t)}function Mr(t){return new h(function(r){var e=t[Z]();if(p(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kr(t){return new h(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}function Gr(t){return new h(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,Te)})}function Fr(t){return new h(function(r){var e,i;try{for(var n=Or(t),s=n.next();!s.done;s=n.next()){var a=s.value;if(r.next(a),r.closed)return}}catch(l){e={error:l}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}r.complete()})}function mi(t){return new h(function(r){Vr(t,r).catch(function(e){return r.error(e)})})}function Rr(t){return mi(Ve(t))}function Vr(t,r){var e,i,n,s;return Ar(this,void 0,void 0,function(){var a,l;return Pr(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),e=zr(t),c.label=1;case 1:return[4,e.next()];case 2:if(i=c.sent(),!!i.done)return[3,4];if(a=i.value,r.next(a),r.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),n={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(s=e.return)?[4,s.call(e)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function A(t,r,e,i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var s=r.schedule(function(){e(),n?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!n)return s}function He(t,r){return r===void 0&&(r=0),d(function(e,i){e.subscribe(g(i,function(n){return A(i,t,function(){return i.next(n)},r)},function(){return A(i,t,function(){return i.complete()},r)},function(n){return A(i,t,function(){return i.error(n)},r)}))})}function Ne(t,r){return r===void 0&&(r=0),d(function(e,i){i.add(t.schedule(function(){return e.subscribe(i)},r))})}function pi(t,r){return x(t).pipe(Ne(r),He(r))}function fi(t,r){return x(t).pipe(Ne(r),He(r))}function di(t,r){return new h(function(e){var i=0;return r.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function hi(t,r){return new h(function(e){var i;return A(e,r,function(){i=t[Fe](),A(e,r,function(){var n,s,a;try{n=i.next(),s=n.value,a=n.done}catch(l){e.error(l);return}a?e.complete():e.next(s)},0,!0)}),function(){return p(i?.return)&&i.return()}})}function je(t,r){if(!t)throw new Error("Iterable cannot be null");return new h(function(e){A(e,r,function(){var i=t[Symbol.asyncIterator]();A(e,r,function(){i.next().then(function(n){n.done?e.complete():e.next(n.value)})},0,!0)})})}function gi(t,r){return je(Ve(t),r)}function yi(t,r){if(t!=null){if(Me(t))return pi(t,r);if(X(t))return di(t,r);if(Oe(t))return fi(t,r);if(ke(t))return je(t,r);if(Re(t))return hi(t,r);if(Le(t))return gi(t,r)}throw Ge(t)}function M(t,r){return r?yi(t,r):x(t)}function _(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=F(t);return M(t,e)}function vi(t){return t instanceof Date&&!isNaN(t)}import{__read as Lr,__spreadArray as Hr}from"tslib";function ee(t,r){return d(function(e,i){var n=0;e.subscribe(g(i,function(s){i.next(t.call(r,s,n++))}))})}var Nr=Array.isArray;function jr(t,r){return Nr(r)?t.apply(void 0,Hr([],Lr(r))):t(r)}function Be(t){return ee(function(r){return jr(t,r)})}var Br=Array.isArray,$r=Object.getPrototypeOf,Ur=Object.prototype,Wr=Object.keys;function bi(t){if(t.length===1){var r=t[0];if(Br(r))return{args:r,keys:null};if(qr(r)){var e=Wr(r);return{args:e.map(function(i){return r[i]}),keys:e}}}return{args:t,keys:null}}function qr(t){return t&&typeof t=="object"&&$r(t)===Ur}function xi(t,r){return t.reduce(function(e,i,n){return e[i]=r[n],e},{})}function dt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=F(t),i=ci(t),n=bi(t),s=n.args,a=n.keys;if(s.length===0)return M([],e);var l=new h(Yr(s,e,a?function(c){return xi(a,c)}:G));return i?l.pipe(Be(i)):l}function Yr(t,r,e){return e===void 0&&(e=G),function(i){_i(r,function(){for(var n=t.length,s=new Array(n),a=n,l=n,c=function(f){_i(r,function(){var y=M(t[f],r),T=!1;y.subscribe(g(i,function(z){s[f]=z,T||(T=!0,l--),l||i.next(e(s.slice()))},function(){--a||i.complete()}))},i)},m=0;m<n;m++)c(m)},i)}}function _i(t,r,e){t?A(e,t,r):r()}function $e(t,r,e,i,n,s,a,l){var c=[],m=0,f=0,y=!1,T=function(){y&&!c.length&&!m&&r.complete()},z=function(I){return m<i?le(I):c.push(I)},le=function(I){s&&r.next(I),m++;var Rt=!1;x(e(I,f++)).subscribe(g(r,function(ce){n?.(ce),s?z(ce):r.next(ce)},function(){Rt=!0},void 0,function(){if(Rt)try{m--;for(var ce=function(){var Se=c.shift();a?A(r,a,function(){return le(Se)}):le(Se)};c.length&&m<i;)ce();T()}catch(Se){r.error(Se)}}))};return t.subscribe(g(r,z,function(){y=!0,T()})),function(){l?.()}}function R(t,r,e){return e===void 0&&(e=1/0),p(r)?R(function(i,n){return ee(function(s,a){return r(i,s,n,a)})(x(t(i,n)))},e):(typeof r=="number"&&(e=r),d(function(i,n){return $e(i,n,t,e)}))}function Ue(t){return t===void 0&&(t=1/0),R(G,t)}function Si(){return Ue(1)}function de(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Si()(M(t,F(t)))}function Ci(t){return new h(function(r){x(t()).subscribe(r)})}import{__read as Qr}from"tslib";var Kr=["addListener","removeListener"],Zr=["addEventListener","removeEventListener"],Jr=["on","off"];function q(t,r,e,i){if(p(e)&&(i=e,e=void 0),i)return q(t,r,e).pipe(Be(i));var n=Qr(tn(t)?Zr.map(function(l){return function(c){return t[l](r,c,e)}}):Xr(t)?Kr.map(Ii(t,r)):en(t)?Jr.map(Ii(t,r)):[],2),s=n[0],a=n[1];if(!s&&X(t))return R(function(l){return q(l,r,e)})(x(t));if(!s)throw new TypeError("Invalid event target");return new h(function(l){var c=function(){for(var m=[],f=0;f<arguments.length;f++)m[f]=arguments[f];return l.next(1<m.length?m:m[0])};return s(c),function(){return a(c)}})}function Ii(t,r){return function(e){return function(i){return t[e](r,i)}}}function Xr(t){return p(t.addListener)&&p(t.removeListener)}function en(t){return p(t.on)&&p(t.off)}function tn(t){return p(t.addEventListener)&&p(t.removeEventListener)}function ht(t,r,e){return Ci(function(){return t()?r:e})}function wi(t,r,e){t===void 0&&(t=0),e===void 0&&(e=si);var i=-1;return r!=null&&(Pe(r)?e=r:i=r),new h(function(n){var s=vi(t)?+t-e.now():t;s<0&&(s=0);var a=0;return e.schedule(function(){n.closed||(n.next(a++),0<=i?this.schedule(void 0,i):n.complete())},s)})}function gt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=F(t),i=ui(t,1/0),n=t;return n.length?n.length===1?x(n[0]):Ue(i)(M(n,e)):N}function We(t,r){return d(function(e,i){var n=0;e.subscribe(g(i,function(s){return t.call(r,s,n++)&&i.next(s)}))})}function te(t,r){return r===void 0&&(r=fe),d(function(e,i){var n=null,s=null,a=null,l=function(){if(n){n.unsubscribe(),n=null;var m=s;s=null,i.next(m)}};function c(){var m=a+t,f=r.now();if(f<m){n=this.schedule(void 0,m-f),i.add(n);return}l()}e.subscribe(g(i,function(m){s=m,a=r.now(),n||(n=r.schedule(c,t),i.add(n))},function(){l(),i.complete()},void 0,function(){s=n=null}))})}function ie(t){return t<=0?function(){return N}:d(function(r,e){var i=0;r.subscribe(g(e,function(n){++i<=t&&(e.next(n),t<=i&&e.complete())}))})}function Ti(){return d(function(t,r){t.subscribe(g(r,U))})}function Ei(t){return ee(function(){return t})}function yt(t,r){return r?function(e){return de(r.pipe(ie(1),Ti()),e.pipe(yt(t)))}:R(function(e,i){return t(e,i).pipe(ie(1),Ei(e))})}function vt(t,r){r===void 0&&(r=fe);var e=wi(t,r);return yt(function(){return e})}function bt(t,r){return r===void 0&&(r=G),t=t??rn,d(function(e,i){var n,s=!0;e.subscribe(g(i,function(a){var l=r(a);(s||!t(n,l))&&(s=!1,n=l,i.next(a))}))})}function rn(t,r){return t===r}function xt(t,r,e){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,d(function(i,n){return $e(i,n,t,r,void 0,!0,e)})}function _t(t){return d(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}function St(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=F(t);return d(function(i,n){(e?de(t,i,e):de(t,i)).subscribe(n)})}function qe(t,r){return d(function(e,i){var n=null,s=0,a=!1,l=function(){return a&&!n&&i.complete()};e.subscribe(g(i,function(c){n?.unsubscribe();var m=0,f=s++;x(t(c,f)).subscribe(n=g(i,function(y){return i.next(r?r(c,y,f,m++):y)},function(){n=null,l()}))},function(){a=!0,l()}))})}function V(t){return d(function(r,e){x(t).subscribe(g(e,function(){return e.complete()},U)),!e.closed&&r.subscribe(e)})}function Ct(t,r){return r===void 0&&(r=!1),d(function(e,i){var n=0;e.subscribe(g(i,function(s){var a=t(s,n++);(a||r)&&i.next(s),!a&&i.complete()}))})}function L(t,r,e){var i=p(t)||r||e?{next:t,error:r,complete:e}:t;return i?d(function(n,s){var a;(a=i.subscribe)===null||a===void 0||a.call(i);var l=!0;n.subscribe(g(s,function(c){var m;(m=i.next)===null||m===void 0||m.call(i,c),s.next(c)},function(){var c;l=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},function(c){var m;l=!1,(m=i.error)===null||m===void 0||m.call(i,c),s.error(c)},function(){var c,m;l&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(m=i.finalize)===null||m===void 0||m.call(i)}))}):G}import{switchMap as ln}from"rxjs/operators";var re=class{constructor(r){r&&(this.bindingOption=r.bindingOption,this.query=r.query,this.typeMapping=r.typeMapping,this.imageMapping=r.imageMapping,this.videoMapping=r.videoMapping,this.youtubeMapping=r.youtubeMapping,this.iframeMapping=r.iframeMapping)}};import*as Di from"@angular/core";var ne=(()=>{class t{constructor(){this.attributeSerializer=nn(an)}handleFile(e){return _()}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return _(!1)}isDynamic(e){return!1}isData(e){return!1}getBindings(e,i,n){return i==="pane"?this.toObject(e).pipe(ln(s=>ht(()=>s.bindingOption&&s.bindingOption!==null&&s.bindingOption!=="",_([new on({id:s.bindingOption,type:i})]),_([])))):i==="context"?_([]):_([])}fetchDynamicData(e,i){return _()}buildDynamicItems(e,i){return _([])}stateDefinition(e){return _({})}editorOptions(e){return _(new sn({fullscreen:!0}))}toObject(e){return _(new re(this.attributeSerializer.deserializeAsObject(e)))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Di.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}}return t})();import*as o from"@angular/core";import{InjectionToken as ki,EventEmitter as C,QueryList as Gi,ElementRef as cn}from"@angular/core";import*as v from"@angular/common";import{CommonModule as B,NgIf as kt,NgFor as un,NgSwitch as mn,NgSwitchCase as pn,DOCUMENT as fn}from"@angular/common";import*as et from"@angular/platform-browser";import{trigger as dn,transition as hn,style as zi,animate as gn}from"@angular/animations";import*as ye from"@angular/cdk/platform";import{getRtlScrollAxisType as yn}from"@angular/cdk/platform";import{coerceElement as vn}from"@angular/cdk/coercion";function bn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275listener("click",function(){let n=o.\u0275\u0275restoreView(e).index,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.gallery.ref(s.galleryId).set(n))}),o.\u0275\u0275element(1,"div",2),o.\u0275\u0275elementEnd()}if(t&2){let e=r.index,i=o.\u0275\u0275nextContext();o.\u0275\u0275styleProp("width",i.config==null?null:i.config.dotsSize,"px")("height",i.config==null?null:i.config.dotsSize,"px"),o.\u0275\u0275classProp("g-dot-active",e===i.state.currIndex)}}function xn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"i",2),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);let n=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(n.gallery.ref(n.galleryId).prev(n.config.navScrollBehavior))}),o.\u0275\u0275elementEnd()}if(t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("innerHtml",e.navIcon,o.\u0275\u0275sanitizeHtml)}}function _n(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"i",3),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);let n=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(n.gallery.ref(n.galleryId).next(n.config.navScrollBehavior))}),o.\u0275\u0275elementEnd()}if(t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("innerHtml",e.navIcon,o.\u0275\u0275sanitizeHtml)}}var Sn=["iframe"];function Cn(t,r){if(t&1&&o.\u0275\u0275element(0,"iframe",3,1),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("src",e.iframeSrc,o.\u0275\u0275sanitizeResourceUrl),o.\u0275\u0275attribute("loading",e.loadingAttr)}}function In(t,r){if(t&1&&o.\u0275\u0275element(0,"iframe",4,1),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("src",e.iframeSrc,o.\u0275\u0275sanitizeResourceUrl),o.\u0275\u0275attribute("loading",e.loadingAttr)}}var wn=["video"];function Tn(t,r){if(t&1&&o.\u0275\u0275element(0,"source",5),t&2){let e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("src",e==null?null:e.url,o.\u0275\u0275sanitizeUrl)("type",e.type)}}function En(t,r){if(t&1&&o.\u0275\u0275element(0,"source",6),t&2){let e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("src",e==null?null:e.url,o.\u0275\u0275sanitizeUrl)}}function Dn(t,r){if(t&1&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Tn,1,2,"source",4)(2,En,1,1,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementContainerEnd()),t&2){let e=r.$implicit,i=o.\u0275\u0275reference(3);o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",e==null?null:e.type)("ngIfElse",i)}}function zn(t,r){if(t&1&&o.\u0275\u0275element(0,"div",9),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("innerHTML",e.errorTemplate,o.\u0275\u0275sanitizeHtml)}}function An(t,r){if(t&1&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"h4"),o.\u0275\u0275element(2,"div",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),t&2){let e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(2),o.\u0275\u0275property("innerHTML",e.errorSvg,o.\u0275\u0275sanitizeHtml)}}function Pn(t,r){if(t&1&&(o.\u0275\u0275elementStart(0,"h2"),o.\u0275\u0275element(1,"div",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"p"),o.\u0275\u0275text(3,"Unable to load the image!"),o.\u0275\u0275elementEnd()),t&2){let e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(),o.\u0275\u0275property("innerHTML",e.errorSvg,o.\u0275\u0275sanitizeHtml)}}function On(t,r){if(t&1&&o.\u0275\u0275template(0,An,3,1,"ng-container",10)(1,Pn,4,1,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),t&2){let e=o.\u0275\u0275reference(2),i=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngIf",i.isThumbnail)("ngIfElse",e)}}function Mn(t,r){if(t&1&&(o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275template(1,zn,1,1,"div",8)(2,On,3,2,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()),t&2){let e=o.\u0275\u0275reference(3),i=o.\u0275\u0275nextContext();o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",i.errorTemplate)("ngIfElse",e)}}function kn(t,r){if(t&1&&o.\u0275\u0275element(0,"div",14),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("innerHTML",e.loaderTemplate,o.\u0275\u0275sanitizeHtml)}}function Gn(t,r){t&1&&o.\u0275\u0275element(0,"div",16)}function Fn(t,r){if(t&1&&o.\u0275\u0275template(0,Gn,1,0,"div",15),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngIf",e.isThumbnail)}}function Rn(t,r){if(t&1&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,kn,1,1,"div",13)(2,Fn,1,1,"ng-template",null,2,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementContainerEnd()),t&2){let e=o.\u0275\u0275reference(3),i=o.\u0275\u0275nextContext();o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",i.loaderTemplate)("ngIfElse",e)}}function Vn(t,r){t&1&&o.\u0275\u0275elementContainer(0)}function Ln(t,r){if(t&1&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275template(1,Vn,1,0,"ng-container",10),o.\u0275\u0275elementEnd()),t&2){let e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(),o.\u0275\u0275property("ngTemplateOutlet",e.config.imageTemplate)("ngTemplateOutletContext",e.imageContext)}}function Hn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"gallery-image",7),o.\u0275\u0275listener("loaded",function(){o.\u0275\u0275restoreView(e);let n=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(n.onItemLoaded())})("error",function(n){o.\u0275\u0275restoreView(e);let s=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(s.error.emit(n))}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(2,Ln,2,2,"div",8),o.\u0275\u0275elementContainerEnd()}if(t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(),o.\u0275\u0275property("src",e.imageData.src)("alt",e.imageData.alt)("loadingAttr",e.config.loadingAttr)("loadingIcon",e.config.loadingIcon)("loadingError",e.config.loadingError),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",e.config.imageTemplate)}}function Nn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"gallery-video",11),o.\u0275\u0275listener("error",function(n){o.\u0275\u0275restoreView(e);let s=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(s.error.emit(n))}),o.\u0275\u0275elementEnd()}if(t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("src",e.videoData.src)("mute",e.videoData.mute)("poster",e.videoData.poster)("controls",e.videoData.controls)("controlsList",e.videoData.controlsList)("disablePictureInPicture",e.videoData.disablePictureInPicture)("play",e.isAutoPlay)("pause",e.currIndex!==e.index)}}function jn(t,r){if(t&1&&o.\u0275\u0275element(0,"gallery-iframe",12),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("src",e.youtubeSrc)("autoplay",e.isAutoPlay)("loadingAttr",e.config.loadingAttr)("pause",e.currIndex!==e.index)}}function Bn(t,r){if(t&1&&o.\u0275\u0275element(0,"gallery-iframe",13),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("src",e.data.src)("loadingAttr",e.config.loadingAttr)}}function $n(t,r){t&1&&o.\u0275\u0275elementContainer(0)}function Un(t,r){if(t&1&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275template(1,$n,1,0,"ng-container",10),o.\u0275\u0275elementEnd()),t&2){let e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(),o.\u0275\u0275property("ngTemplateOutlet",e.config.itemTemplate)("ngTemplateOutletContext",e.itemContext)}}function Wn(t,r){if(t&1&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Un,2,2,"div",8),o.\u0275\u0275elementContainerEnd()),t&2){let e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",e.config.itemTemplate)}}function qn(t,r){if(t&1&&(o.\u0275\u0275elementContainerStart(0,1),o.\u0275\u0275template(1,Hn,3,6,"ng-container",2)(2,Nn,1,8,"gallery-video",3)(3,jn,1,4,"gallery-iframe",4)(4,Bn,1,2,"gallery-iframe",5)(5,Wn,2,1,"ng-container",6),o.\u0275\u0275elementContainerEnd()),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngSwitch",e.type),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase",e.Types.Image),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase",e.Types.Video),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase",e.Types.Youtube),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase",e.Types.Iframe)}}var Fi=["slider"],Yn=["*"];function Qn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"gallery-item",4),o.\u0275\u0275listener("click",function(){let n=o.\u0275\u0275restoreView(e).index,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.itemClick.emit(n))})("error",function(n){let s=o.\u0275\u0275restoreView(e).index,a=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(a.error.emit({itemIndex:s,error:n}))}),o.\u0275\u0275elementEnd()}if(t&2){let e=r.$implicit,i=r.index,n=o.\u0275\u0275nextContext();o.\u0275\u0275property("type",e.type)("config",n.config)("data",e.data)("currIndex",n.state.currIndex)("index",i)("count",n.state.items.length),o.\u0275\u0275attribute("galleryId",n.galleryId)}}function Kn(t,r){t&1&&o.\u0275\u0275elementContainer(0)}function Zn(t,r){if(t&1&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275template(1,Kn,1,0,"ng-container",3),o.\u0275\u0275elementEnd()),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(),o.\u0275\u0275property("ngTemplateOutlet",e.config.thumbTemplate)("ngTemplateOutletContext",e.imageContext)}}function Jn(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"gallery-thumb",4),o.\u0275\u0275listener("click",function(){let n=o.\u0275\u0275restoreView(e).index,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.config.disableThumb?null:s.thumbClick.emit(n))})("error",function(n){let s=o.\u0275\u0275restoreView(e).index,a=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(a.error.emit({itemIndex:s,error:n}))}),o.\u0275\u0275elementEnd()}if(t&2){let e=r.$implicit,i=r.index,n=o.\u0275\u0275nextContext();o.\u0275\u0275property("type",e.type)("config",n.config)("data",e.data)("currIndex",n.state.currIndex)("index",i)("count",n.state.items.length)}}var Xn=(t,r)=>({state:t,config:r});function eo(t,r){if(t&1){let e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"gallery-thumbs",7),o.\u0275\u0275listener("thumbClick",function(n){o.\u0275\u0275restoreView(e);let s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.thumbClick.emit(n))})("error",function(n){o.\u0275\u0275restoreView(e);let s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.error.emit(n))}),o.\u0275\u0275elementEnd()}if(t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("state",e.state)("config",e.config)}}function to(t,r){if(t&1&&o.\u0275\u0275element(0,"gallery-nav",8),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("state",e.state)("config",e.config)("galleryId",e.galleryId)}}function io(t,r){if(t&1&&o.\u0275\u0275element(0,"gallery-dots",8),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("state",e.state)("config",e.config)("galleryId",e.galleryId)}}function ro(t,r){if(t&1&&o.\u0275\u0275element(0,"gallery-counter",9),t&2){let e=o.\u0275\u0275nextContext();o.\u0275\u0275property("state",e.state)}}function no(t,r){t&1&&o.\u0275\u0275elementContainer(0)}var D=(function(t){return t.INITIALIZED="initialized",t.ITEMS_CHANGED="itemsChanged",t.INDEX_CHANGED="indexChanged",t.PLAY="play",t.STOP="stop",t})(D||{}),It=(function(t){return t.Cover="cover",t.Contain="contain",t})(It||{}),Qe=(function(t){return t.Preload="preload",t.Lazy="lazy",t.Default="default",t})(Qe||{}),Ri=(function(t){return t.Eager="eager",t.Lazy="lazy",t})(Ri||{}),j=(function(t){return t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t})(j||{}),Vi=(function(t){return t.Top="top",t.Bottom="bottom",t})(Vi||{}),Li=(function(t){return t.Top="top",t.Bottom="bottom",t})(Li||{}),Ke=(function(t){return t.Horizontal="horizontal",t.Vertical="vertical",t})(Ke||{}),H=(function(t){return t.Image="image",t.Video="video",t.Youtube="youtube",t.Iframe="iframe",t})(H||{}),ve=(function(t){return t.Default="default",t.Contain="contain",t})(ve||{}),Ai={action:D.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},Pi={nav:!0,loop:!0,dots:!1,thumb:!0,debug:!1,dotsSize:6,counter:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,disableThumb:!1,slidingDisabled:!1,thumbSlidingDisabled:!1,mouseSlidingDisabled:!1,thumbMouseSlidingDisabled:!1,playerInterval:3e3,slidingDuration:468,slidingEase:{x1:.42,y1:0,x2:.58,y2:1},thumbAutosize:!1,itemAutosize:!1,autoHeight:!1,scrollBehavior:"smooth",navScrollBehavior:"smooth",resizeDebounceTime:50,loadingAttr:Ri.Lazy,imageSize:It.Contain,thumbImageSize:It.Cover,thumbView:ve.Default,dotsPosition:Vi.Bottom,counterPosition:Li.Top,thumbPosition:j.Bottom,loadingStrategy:Qe.Preload,slidingDirection:Ke.Horizontal,navIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},wt=class{constructor(r){this.data=r,this.type=H.Image}},Tt=class{constructor(r){this.data=r,this.type=H.Video}},Et=class{constructor(r){this.data=r,this.type=H.Iframe}},Dt=class{constructor(r){this.data=ue(w({},r),{src:`https://youtube.com/embed/${r.src}`,thumb:r.thumb?r.thumb:`//img.youtube.com/vi/${r.src}/default.jpg`}),this.type=H.Youtube}},he=t=>We(r=>t.indexOf(r.action)>-1),zt=class{get stateSnapshot(){return this._state.value}get configSnapshot(){return this._config.value}get initialized(){return this.state.pipe(he([D.INITIALIZED]))}get itemsChanged(){return this.state.pipe(he([D.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(he([D.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(he([D.PLAY,D.STOP]))}get playerActions(){return this.state.pipe(he([D.PLAY,D.STOP,D.INDEX_CHANGED]))}constructor(r,e){this.deleteInstance=e,this.itemClick=new E,this.thumbClick=new E,this.error=new E,this._state=new O(Ai),this._config=new O(r),this.state=this._state.asObservable(),this.config=this._config.asObservable()}activatePlayer(){return this.playerActions.pipe(qe(r=>r.isPlaying?_({}).pipe(vt(this._config.value.playerInterval),L(()=>this.next(this._config.value.scrollBehavior))):N))}setState(r){this._state.next(w(w({},this.stateSnapshot),r))}setConfig(r){this._config.next(w(w({},this._config.value),r))}add(r,e){let i=[...this.stateSnapshot.items,r];this.setState({action:D.ITEMS_CHANGED,items:i,hasNext:i.length>1,currIndex:e?i.length-1:this.stateSnapshot.currIndex})}addImage(r,e){this.add(new wt(r),e)}addVideo(r,e){this.add(new Tt(r),e)}addIframe(r,e){this.add(new Et(r),e)}addYoutube(r,e){this.add(new Dt(r),e)}remove(r){let e=this.stateSnapshot,i=[...e.items.slice(0,r),...e.items.slice(r+1,e.items.length)];this.setState({action:D.ITEMS_CHANGED,currIndex:r<1?e.currIndex:r-1,items:i,hasNext:i.length>1,hasPrev:r>0})}load(r){r&&this.setState({action:D.ITEMS_CHANGED,items:r,hasNext:r.length>1,hasPrev:!1})}set(r,e=this._config.value.scrollBehavior){if(r<0||r>=this.stateSnapshot.items.length){console.error(`[NgGallery]: Unable to set the active item because the given index (${r}) is outside the items range!`);return}r!==this.stateSnapshot.currIndex&&this.setState({behavior:e,action:D.INDEX_CHANGED,currIndex:r,hasNext:r<this.stateSnapshot.items.length-1,hasPrev:r>0})}next(r=this._config.value.scrollBehavior,e=!0){this.stateSnapshot.hasNext?this.set(this.stateSnapshot.currIndex+1,r):e&&this._config.value.loop&&this.set(0,r)}prev(r=this._config.value.scrollBehavior,e=!0){this.stateSnapshot.hasPrev?this.set(this.stateSnapshot.currIndex-1,r):e&&this._config.value.loop&&this.set(this.stateSnapshot.items.length-1,r)}play(r){r&&this.setConfig({playerInterval:r}),this.setState({action:D.PLAY,isPlaying:!0})}stop(){this.setState({action:D.STOP,isPlaying:!1})}reset(){this.setState(Ai)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}},oo=new ki("GALLERY_CONFIG"),tt=(()=>{class t{constructor(e){this._instances=new Map,this.config=e?w(w({},Pi),e):Pi}ref(e="root",i){if(this._instances.has(e)){let n=this._instances.get(e);return i&&n.setConfig(w(w({},this.config),i)),n}else return this._instances.set(e,new zt(w(w({},this.config),i),this.deleteInstance(e))).get(e)}destroyAll(){this._instances.forEach(e=>e.destroy())}resetAll(){this._instances.forEach(e=>e.reset())}debugConsole(...e){this.config.debug&&console.log(...e)}deleteInstance(e){return()=>{this._instances.has(e)&&this._instances.delete(e)}}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275inject(oo,8))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),so=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function(i,n){i&1&&(o.\u0275\u0275domElementStart(0,"div",0),o.\u0275\u0275text(1),o.\u0275\u0275domElementEnd()),i&2&&(o.\u0275\u0275advance(),o.\u0275\u0275textInterpolate(n.state.currIndex+1+" / "+n.state.items.length))},encapsulation:2,changeDetection:0})}}return t})(),ao=(()=>{class t{constructor(e){this.gallery=e}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(tt))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-dots"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","click",4,"ngFor","ngForOf"],[1,"g-dot",3,"click"],[1,"g-dot-inner"]],template:function(i,n){i&1&&o.\u0275\u0275template(0,bn,2,6,"div",0),i&2&&o.\u0275\u0275property("ngForOf",n.state.items)},dependencies:[B,v.NgForOf],encapsulation:2,changeDetection:0})}}return t})(),lo=(()=>{class t{constructor(e,i){this.gallery=e,this._sanitizer=i}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(tt),o.\u0275\u0275directiveInject(et.DomSanitizer))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-nav"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous","role","button",3,"innerHtml","click",4,"ngIf"],["class","g-nav-next","aria-label","Next","role","button",3,"innerHtml","click",4,"ngIf"],["aria-label","Previous","role","button",1,"g-nav-prev",3,"click","innerHtml"],["aria-label","Next","role","button",1,"g-nav-next",3,"click","innerHtml"]],template:function(i,n){i&1&&o.\u0275\u0275template(0,xn,1,1,"i",0)(1,_n,1,1,"i",1),i&2&&(o.\u0275\u0275property("ngIf",n.config.loop||n.state.hasPrev),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",n.config.loop||n.state.hasNext))},dependencies:[B,v.NgIf],encapsulation:2,changeDetection:0})}}return t})(),co=2,uo=4,mo=8,po=16;var Ze=class{get scrollValue(){return this.slider.scrollLeft}get clientSize(){return this.slider.clientWidth}constructor(r,e){this.slider=r,this.config=e,this.panDirection=co|uo,this.scrollSnapType="x mandatory"}getPanValue(r,e,i){return{behavior:i,left:r-e.deltaX}}},Je=class{get scrollValue(){return this.slider.scrollTop}get clientSize(){return this.slider.clientHeight}constructor(r,e){this.slider=r,this.config=e,this.scrollSnapType="y mandatory",this.panDirection=mo|po}getPanValue(r,e,i){return{behavior:i,top:r-e.deltaY}}},At=class extends Ze{get thumbSize(){return this.config.thumbWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(r,e){super(r,e),this.slider=r,this.config=e}getCentralisedScrollToValue(r,e,i){let n=r.offsetLeft;return i===ve.Default&&(n-=this.clientSize/2-r.clientWidth/2),{start:n,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(r,e){return{start:r.offsetLeft-(this.clientSize-r.clientWidth)/2,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},Pt=class extends Je{get thumbSize(){return this.config.thumbHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(r,e){super(r,e),this.slider=r,this.config=e}getCentralisedScrollToValue(r,e,i){let n=r.offsetTop;return i===ve.Default&&(n-=this.clientSize/2-r.clientHeight/2),{top:n,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(r,e){return{top:r.offsetTop-(this.clientSize-r.clientHeight)/2,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}},Ot=class extends Ze{get measureIndex(){return this.slider.scrollLeft/this.slider.clientWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(r,e){super(r,e),this.slider=r,this.config=e}getClientSize(r){return r.clientWidth}getOffsetSize(r){return r.offsetLeft}getScrollToValue(r,e){return{start:r.offsetLeft-(this.clientSize-r.clientWidth)/2,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(r){return r.deltaX}getPanVelocity(r){return r.velocityX}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},Mt=class extends Je{get measureIndex(){return this.slider.scrollTop/this.slider.clientHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(r,e){super(r,e),this.slider=r,this.config=e}getClientSize(r){return r.clientHeight}getOffsetSize(r){return r.offsetTop}getScrollToValue(r,e){return{top:r.offsetTop-(this.clientSize-r.clientHeight)/2,duration:e==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(r){return r.deltaY}getPanVelocity(r){return r.velocityY}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}};function Hi(t){return new h(r=>{let e=new ResizeObserver(i=>r.next(i));return e.observe(t),function(){e.disconnect()}})}var fo=(()=>{class t{set src(e){this.videoSrc=e,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(e)}set pauseVideo(e){if(this.iframe?.nativeElement&&e){let i=this.iframe.nativeElement;i.src=null,!this.autoplay&&this.videoSrc&&(this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc))}}constructor(e){this._sanitizer=e}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(et.DomSanitizer))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-iframe"]],viewQuery:function(i,n){if(i&1&&o.\u0275\u0275viewQuery(Sn,5),i&2){let s;o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.iframe=s.first)}},inputs:{src:"src",pauseVideo:[0,"pause","pauseVideo"],autoplay:"autoplay",loadingAttr:"loadingAttr"},decls:3,vars:2,consts:[["default",""],["iframe",""],["allowfullscreen","","allow","","style","border:none",3,"src",4,"ngIf","ngIfElse"],["allowfullscreen","","allow","",2,"border","none",3,"src"],["allowfullscreen","",2,"border","none",3,"src"]],template:function(i,n){if(i&1&&o.\u0275\u0275template(0,Cn,2,2,"iframe",2)(1,In,2,2,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),i&2){let s=o.\u0275\u0275reference(2);o.\u0275\u0275property("ngIf",n.autoplay)("ngIfElse",s)}},dependencies:[kt],encapsulation:2,changeDetection:0})}}return t})(),ho=(()=>{class t{constructor(){this.error=new C}set pauseVideo(e){if(this.video.nativeElement){let i=this.video.nativeElement;e&&!i.paused&&i.pause()}}set playVideo(e){if(this.video.nativeElement){let i=this.video.nativeElement;e&&i.play()}}ngOnInit(){this.src instanceof Array?this.videoSources=[...this.src]:this.videoSources=[{url:this.src}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-video"]],viewQuery:function(i,n){if(i&1&&o.\u0275\u0275viewQuery(wn,7),i&2){let s;o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.video=s.first)}},inputs:{src:"src",poster:"poster",mute:"mute",loop:"loop",controls:"controls",controlsList:"controlsList",disableRemotePlayback:"disableRemotePlayback",disablePictureInPicture:"disablePictureInPicture",pauseVideo:[0,"pause","pauseVideo"],playVideo:[0,"play","playVideo"]},outputs:{error:"error"},decls:3,vars:8,consts:[["video",""],["noType",""],[3,"error","disableRemotePlayback","controls","loop","poster"],[4,"ngFor","ngForOf"],[3,"src","type",4,"ngIf","ngIfElse"],[3,"src","type"],[3,"src"]],template:function(i,n){if(i&1){let s=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"video",2,0),o.\u0275\u0275listener("error",function(l){return o.\u0275\u0275restoreView(s),o.\u0275\u0275resetView(n.error.emit(l))}),o.\u0275\u0275template(2,Dn,4,2,"ng-container",3),o.\u0275\u0275elementEnd()}i&2&&(o.\u0275\u0275property("disableRemotePlayback",n.disableRemotePlayback)("controls",n.controls)("loop",n.loop)("poster",n.poster,o.\u0275\u0275sanitizeUrl),o.\u0275\u0275attribute("mute",n.mute)("controlsList",n.controlsList)("disablePictureInPicture",n.disablePictureInPicture),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",n.videoSources))},dependencies:[un,kt],encapsulation:2,changeDetection:0})}}return t})(),go=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="100" height="100" version="1.1" viewBox="0 0 256 256" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
 <g transform="translate(1.4066 1.4066) scale(2.81)">
	<path d="m74.453 48.627c-5.538 0-11.075-2.107-15.291-6.324-6.11-6.11-7.768-14.99-5.024-22.629h-48.08c-3.346 1e-3 -6.058 2.713-6.058 6.059v16.322l23.834 20.315c2.278 1.942 5.573 2.119 8.047 0.434l14.382-9.801c2.33-1.588 5.408-1.531 7.677 0.141l27.15 20.001v-25.574c-2.156 0.692-4.394 1.056-6.637 1.056z" fill="#c1e5f4" stroke-linecap="round"/>
 <circle cx="27.942" cy="37.942" r="6.072" fill="#fff0a9"/>
 <path d="m85.446 16.02c-6.061-6.061-15.922-6.061-21.983 0s-6.061 15.923 0 21.984c3.031 3.031 7.011 4.546 10.992 4.546 3.98 0 7.962-1.515 10.992-4.545 2.936-2.937 4.553-6.841 4.553-10.993s-1.617-8.056-4.554-10.992zm-3.555 3.555c1.987 1.986 3.081 4.627 3.081 7.436 0 1.95-0.538 3.813-1.525 5.438l-14.428-14.428c4.043-2.442 9.384-1.934 12.872 1.554zm-14.873 14.874c-3.486-3.487-3.997-8.829-1.554-12.873l14.426 14.427c-4.043 2.443-9.385 1.932-12.872-1.554z" fill="#e29393" stroke-linecap="round"/>
 <path d="m0 40.043v32.425c0 3.346 2.712 6.058 6.058 6.058h68.974c3.346 0 6.058-2.712 6.058-6.058v-1.335l-27.15-20.001c-2.27-1.672-5.348-1.729-7.677-0.141l-14.383 9.801c-2.473 1.686-5.769 1.508-8.047-0.434l-23.833-20.315z" fill="#96ea9c" stroke-linecap="round"/>
</g>
</svg>
`,Ni=(()=>{class t{get imageState(){return this.state}constructor(e){this._sanitizer=e,this.state="loading",this.progress=0,this.errorIcon=go,this.error=new C,this.loaded=new C}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError)),this.errorIcon&&(this.errorSvg=this._sanitizer.bypassSecurityTrustHtml(this.errorIcon))}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(et.DomSanitizer))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-image"]],hostVars:1,hostBindings:function(i,n){i&2&&o.\u0275\u0275attribute("imageState",n.imageState)},inputs:{isThumbnail:"isThumbnail",loadingAttr:"loadingAttr",alt:"alt",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError",errorIcon:"errorIcon"},outputs:{error:"error",loaded:"loaded"},decls:4,vars:9,consts:[["defaultError",""],["isLarge",""],["defaultLoader",""],[3,"ngSwitch"],[1,"g-image-item",3,"load","error","src"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],[1,"gallery-thumb-error",3,"innerHTML"],[1,"gallery-image-error",3,"innerHTML"],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function(i,n){i&1&&(o.\u0275\u0275elementContainerStart(0,3),o.\u0275\u0275elementStart(1,"img",4),o.\u0275\u0275listener("load",function(){return n.state="success",n.loaded.emit()})("error",function(a){return n.state="failed",n.error.emit(a)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(2,Mn,4,2,"div",5)(3,Rn,4,2,"ng-container",6),o.\u0275\u0275elementContainerEnd()),i&2&&(o.\u0275\u0275property("ngSwitch",n.state),o.\u0275\u0275advance(),o.\u0275\u0275styleProp("visibility",n.state==="success"?"visible":"hidden"),o.\u0275\u0275property("@fadeIn",n.state)("src",n.src,o.\u0275\u0275sanitizeUrl),o.\u0275\u0275attribute("alt",n.alt)("loading",n.loadingAttr),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase","failed"),o.\u0275\u0275advance(),o.\u0275\u0275property("ngSwitchCase","loading"))},dependencies:[mn,pn,kt],encapsulation:2,data:{animation:[dn("fadeIn",[hn("* => success",[zi({opacity:0}),gn("300ms ease-in",zi({opacity:1}))])])]},changeDetection:0})}}return t})(),Oi=(()=>{class t{get isActive(){return this.index===this.currIndex}get isIndexAttr(){return this.index}get imageState(){return this.imageLoadingState}get imageContext(){return{$implicit:this.imageData,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get itemContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get element(){return this.el.nativeElement}get isAutoPlay(){if(this.isActive&&(this.type===H.Video||this.type===H.Youtube))return this.videoData.autoplay}get youtubeSrc(){let e=0;this.isActive&&this.type===H.Youtube&&this.data.autoplay&&(e=1);let i=new URL(this.data.src);return i.search=new URLSearchParams(ue(w({wmode:"transparent"},this.data.params),{autoplay:e})).toString(),i.href}get load(){switch(this.config.loadingStrategy){case Qe.Preload:return!0;case Qe.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}get imageData(){return this.data}get videoData(){return this.data}constructor(e,i,n){this.el=e,this.cd=i,this._platform=n,this.Types=H,this.imageLoadingState="IN_PROGRESS",this.error=new C}ngAfterViewChecked(){let e=this.getHeight();if(this._platform.isBrowser&&(this.element.style.setProperty("--g-item-width",`${this.getWidth()}px`),this.element.style.setProperty("--g-item-height",`${e}px`)),this.currIndex===this.index){let i=this.config.thumbPosition===j.Top||this.config.thumbPosition===j.Bottom;this.config.autoHeight&&e&&i&&(this.element.parentElement.parentElement.style.height=`${e}px`)}}onItemLoaded(){this.imageLoadingState==="IN_PROGRESS"&&(this.imageLoadingState="DONE",this.cd.detectChanges())}getWidth(){if(this.config.slidingDirection==="horizontal"){let e=this.element?.firstElementChild;if(this.config.itemAutosize&&this.imageLoadingState==="DONE"&&e?.clientWidth)return e.clientWidth}return this.element.parentElement.parentElement.clientWidth}getHeight(){let e=this.element.firstElementChild;return e&&(this.config.autoHeight&&this.imageLoadingState==="DONE"&&e.clientHeight||this.config.slidingDirection==="vertical"&&this.config.itemAutosize&&this.imageLoadingState==="DONE"&&e.clientHeight)?e.clientHeight:this.element.parentElement.parentElement.clientHeight}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(ye.Platform))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-item"]],hostVars:4,hostBindings:function(i,n){i&2&&(o.\u0275\u0275attribute("galleryIndex",n.isIndexAttr)("imageState",n.imageState),o.\u0275\u0275classProp("g-active-item",n.isActive))},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","loadingAttr","pause",4,"ngSwitchCase"],[3,"src","loadingAttr",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loaded","error","src","alt","loadingAttr","loadingIcon","loadingError"],["class","g-template g-item-template",4,"ngIf"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"error","src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause"],[3,"src","autoplay","loadingAttr","pause"],[3,"src","loadingAttr"]],template:function(i,n){i&1&&o.\u0275\u0275template(0,qn,6,5,"ng-container",0),i&2&&o.\u0275\u0275property("ngIf",n.load)},dependencies:[B,v.NgIf,v.NgTemplateOutlet,v.NgSwitch,v.NgSwitchCase,v.NgSwitchDefault,Ni,ho,fo],encapsulation:2,changeDetection:0})}}return t})(),yo=4,vo=.001,bo=1e-7,xo=10,ge=11,Ye=1/(ge-1),_o=typeof Float32Array=="function";function ji(t,r){return 1-3*r+3*t}function Bi(t,r){return 3*r-6*t}function $i(t){return 3*t}function Xe(t,r,e){return((ji(r,e)*t+Bi(r,e))*t+$i(r))*t}function Ui(t,r,e){return 3*ji(r,e)*t*t+2*Bi(r,e)*t+$i(r)}function So(t,r,e,i,n){let s,a,l=0;do a=r+(e-r)/2,s=Xe(a,i,n)-t,s>0?e=a:r=a;while(Math.abs(s)>bo&&++l<xo);return a}function Co(t,r,e,i){for(let n=0;n<yo;++n){let s=Ui(r,e,i);if(s===0)return r;let a=Xe(r,e,i)-t;r-=a/s}return r}function Io(t){return t}function wo(t,r,e,i){if(!(0<=t&&t<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&e===i)return Io;let n=_o?new Float32Array(ge):new Array(ge);for(let a=0;a<ge;++a)n[a]=Xe(a*Ye,t,e);function s(a){let l=0,c=1,m=ge-1;for(;c!==m&&n[c]<=a;++c)l+=Ye;--c;let f=(a-n[c])/(n[c+1]-n[c]),y=l+f*Ye,T=Ui(y,t,e);return T>=vo?Co(a,y,t,e):T===0?y:So(a,l,l+Ye,t,e)}return function(l){return l===0?0:l===1?1:Xe(s(l),r,i)}}var To=new ki("SMOOTH_SCROLL_OPTIONS"),Wi=(()=>{class t{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(e,i,n){this._document=e,this._platform=n,this._onGoingScrolls=new Map,this._defaultOptions=w({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},i)}_scrollElement(e,i,n){e.scrollLeft=i,e.scrollTop=n}_getElement(e,i){return typeof e=="string"?(i||this._document).querySelector(e):vn(e)}_initSmoothScroll(e){return this._onGoingScrolls.has(e)&&this._onGoingScrolls.get(e).next(),this._onGoingScrolls.set(e,new E).get(e)}_isFinished(e,i,n){return e.currentX!==e.x||e.currentY!==e.y?!0:(i.next(),n(),!1)}_interrupted(e,i){return gt(q(e,"wheel",{passive:!0,capture:!0}),q(e,"touchmove",{passive:!0,capture:!0}),i).pipe(ie(1))}_destroy(e,i){i.complete(),this._onGoingScrolls.delete(e)}_step(e){return new h(i=>{let n=(this._now()-e.startTime)/e.duration;n=n>1?1:n;let s=e.easing(n);e.currentX=e.startX+(e.x-e.startX)*s,e.currentY=e.startY+(e.y-e.startY)*s,this._scrollElement(e.scrollable,e.currentX,e.currentY),requestAnimationFrame(()=>i.next(e))})}_applyScrollToOptions(e,i){if(!i.duration)return this._scrollElement(e,i.left,i.top),Promise.resolve();let n=this._initSmoothScroll(e),s={scrollable:e,startTime:this._now(),startX:e.scrollLeft,startY:e.scrollTop,x:i.left==null?e.scrollLeft:~~i.left,y:i.top==null?e.scrollTop:~~i.top,duration:i.duration,easing:wo(i.easing.x1,i.easing.y1,i.easing.x2,i.easing.y2)};return new Promise(a=>{_(null).pipe(xt(()=>this._step(s).pipe(Ct(l=>this._isFinished(l,n,a)))),V(this._interrupted(e,n)),_t(()=>this._destroy(e,n))).subscribe()})}dismissOngoingScroll(e){this._onGoingScrolls.get(e)?.next()}scrollTo(e,i){if(this._platform.isBrowser){let n=this._getElement(e),s=getComputedStyle(n).direction==="rtl",a=yn(),l=ue(w(w({},this._defaultOptions),i),{left:i.left==null?s?i.end:i.start:i.left,right:i.right==null?s?i.start:i.end:i.right});return l.bottom!=null&&(l.top=n.scrollHeight-n.clientHeight-l.bottom),s&&a!==0?(l.left!=null&&(l.right=n.scrollWidth-n.clientWidth-l.left),a===2?l.left=l.right:a===1&&(l.left=l.right?-l.right:l.right)):l.right!=null&&(l.left=n.scrollWidth-n.clientWidth-l.right),this._applyScrollToOptions(n,l)}return Promise.resolve()}scrollToElement(e,i,n={}){let s=this._getElement(e),a=this._getElement(i,s),l=ue(w({},n),{left:a.offsetLeft+(n.left||0),top:a.offsetTop+(n.top||0)});return a?this.scrollTo(s,l):Promise.resolve()}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275inject(fn),o.\u0275\u0275inject(To,8),o.\u0275\u0275inject(ye.Platform))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Eo=(()=>{class t{get slider(){return this.sliderEl.nativeElement}constructor(e,i,n,s,a,l){this._el=e,this._cd=i,this._zone=n,this._platform=s,this._smoothScroll=a,this._gallery=l,this.scrollHandler$=new E,this.visibleElements=new Map,this._destroyed$=new E,this.itemClick=new C,this.error=new C,this.items=new Gi,this.scrollHandler$.pipe(te(0,mt),qe(({value:c,behavior:m})=>{this._gallery.debugConsole("[Gallery scrollHandler$] ",this.slider.style.scrollSnapType),this.slider.style.scrollSnapType="unset";let f=this.items.get(c)?.element;if(this._gallery.debugConsole("\u{1F92F} [Gallery scrollHandler$] scrollSnapType = unset, scrollTo element",!!f),f){this.slider.classList.add("g-scrolling");let y=this.adapter.getScrollToValue(f,m||this.config.scrollBehavior),T=+this.items.get(c)?.element.getAttribute("galleryIndex");return this._gallery.debugConsole(`\u{1F680} [Gallery scrollHandler$] Scroll start ===> index: ${T}, position:`,y),this._gallery.debugConsole("\u{1F680} [Gallery scrollHandler$] slider scrollable",this.adapter.scrollValue),M(this._smoothScroll.scrollTo(this.slider,y)).pipe(L(()=>{this._isPanning=!1,this.slider.classList.remove("g-scrolling"),this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this._gallery.debugConsole("\u2705 [Gallery scrollHandler$] Scroll end")}))}return this._gallery.debugConsole("\u{1F621} [Gallery scrollHandler$] Scroll element was not found!"),N}),V(this._destroyed$)).subscribe()}ngOnChanges(e){if(e.config){if(e.config.currentValue?.slidingDirection!==e.config.previousValue?.slidingDirection){switch(this.config.slidingDirection){case Ke.Horizontal:this.adapter=new Ot(this.slider,this.config);break;case Ke.Vertical:this.adapter=new Mt(this.slider,this.config);break}this._platform.isBrowser&&(e.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&!e.config.firstChange&&e.config.currentValue?.mouseSlidingDisabled!==e.config.previousValue?.mouseSlidingDisabled&&this.enableDisableGestures()}this._platform.isBrowser&&e.state&&e.state.currentValue?.currIndex!==e.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,e.state.firstChange?"auto":this.state.behavior)})}ngOnInit(){this._platform.isBrowser&&this._zone.runOutsideAngular(()=>{this.createIntersectionObserver(this.slider).pipe(L(e=>{e.target.classList.toggle("g-item-visible",e.isIntersecting),e.isIntersecting?this.visibleElements.set(e.target,e):this.visibleElements.delete(e.target)}),V(this._destroyed$)).subscribe(),q(this.slider,"scroll",{passive:!0}).pipe(te(50),We(()=>!this._isPanning),L(()=>this.onViewportScroll()),V(this._destroyed$)).subscribe(),Hi(this._el.nativeElement).pipe(te(this.config.resizeDebounceTime),L(([e])=>this.onHostResize(e)),V(this._destroyed$)).subscribe()})}ngAfterViewInit(){this._platform.isBrowser&&(this.items.notifyOnChanges(),this.items.changes.pipe(St(null),L(()=>{this.visibleElements.forEach(e=>{this.intersectionObserver.unobserve(e.target)}),this.items.toArray().map(e=>{this.intersectionObserver.observe(e.element)})}),V(this._destroyed$)).subscribe())}ngAfterViewChecked(){this.config.itemAutosize&&this._platform.isBrowser&&(this.slider.style.setProperty("--slider-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--slider-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.deactivateGestures()}trackByFn(e,i){return i.type}onHostResize(e){let i=Math.ceil(e.contentRect.width),n=Math.ceil(e.contentRect.height);this.slider.style.width=`${i}px`,this.slider.style.height=`${n}px`,this.scrollToIndex(this.state.currIndex,"auto"),this._cd.detectChanges(),this._gallery.debugConsole("\u{1F990} [Gallery OnHostResize]: set viewport width to absolute number")}onViewportScroll(){let e=this.items.get(this.state.currIndex)?.element,i=this.getElementFromViewportCenter();i?i!==e&&this.tryScrollToElement(i):(this._gallery.debugConsole("\u2049 [Gallery onViewportScroll]: No center element was found"),this.visibleElements.forEach(n=>{this.tryScrollToElement(n.target)}))}tryScrollToElement(e){let n=(this.adapter.clientSize-this.adapter.getClientSize(e))/2,s=this.adapter.scrollValue+n,a=this.adapter.scrollValue+this.adapter.clientSize-n,l=this.adapter.getOffsetSize(e),c=l+this.adapter.getClientSize(e),m=s+10>=l&&s-10<=l,f=a+10>=c&&a-10<=c;if(this.slider.style.scrollSnapType=this.adapter.scrollSnapType,m&&f){this._gallery.debugConsole("\u{1F344} [Gallery onViewportScroll]: Set active gallery item");let y=+e.getAttribute("galleryIndex");this._zone.run(()=>this._gallery.ref(this.galleryId).set(y,"smooth"))}}scrollToIndex(e,i,n){this.scrollHandler$.next({value:e,behavior:i,onEnd:n})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.mouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"){this.deactivateGestures();let e=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:e});let i;this._hammer.on("panstart",()=>{this._smoothScroll.dismissOngoingScroll(this.slider),i=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding"),this._isPanning=!0}),this._hammer.on("panmove",n=>this.slider.scrollTo(this.adapter.getPanValue(i,n,"auto"))),this._hammer.on("panend",n=>this.onPanEnd(n))})}}deactivateGestures(){this._hammer?.destroy()}onPanEnd(e){this._gallery.debugConsole("\u{1F5B1}\uFE0F [Gallery]: onPanEnd",e),this.slider.classList.remove("g-sliding");let i=this.adapter.getPanDelta(e),n=this.adapter.getPanVelocity(e),s=this._gallery.ref(this.galleryId);this._zone.run(()=>{let a=this.items.get(this.state.currIndex)?.element,l=this.getElementFromViewportCenter();if(l&&l!==a){let c=+l.getAttribute("galleryIndex");this.scrollToIndex(c,"smooth");return}if(Math.abs(i)>(a.clientWidth||this.adapter.clientSize)/2)return i>0?s.prev("smooth",!1):s.next("smooth",!1);if(Math.abs(n)>.3)return n>0?s.prev("smooth",!1):s.next("smooth",!1);this.scrollToIndex(this.state.currIndex,"smooth")})}getElementFromViewportCenter(){let e=this.slider.getBoundingClientRect(),n=document.elementsFromPoint(e.x+e.width/2,e.y+e.height/2).find(s=>s.localName==="gallery-item"&&s.getAttribute("galleryId")===this.galleryId);return this._gallery.debugConsole("\u{1FA9F} [Gallery]: getElementFromViewportCenter",n),n}createIntersectionObserver(e){return new h(i=>(this.intersectionObserver=new IntersectionObserver(n=>i.next(n),{root:e}),()=>this.intersectionObserver.disconnect())).pipe(R(i=>i),bt())}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(ye.Platform),o.\u0275\u0275directiveInject(Wi),o.\u0275\u0275directiveInject(tt))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-slider"]],viewQuery:function(i,n){if(i&1&&(o.\u0275\u0275viewQuery(Fi,7),o.\u0275\u0275viewQuery(Oi,5)),i&2){let s;o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.sliderEl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.items=s)}},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",error:"error"},features:[o.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Yn,decls:5,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(i,n){i&1&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"div",1,0)(2,"div",2),o.\u0275\u0275template(3,Qn,1,7,"gallery-item",3),o.\u0275\u0275elementEnd()(),o.\u0275\u0275projection(4)),i&2&&(o.\u0275\u0275attribute("centralised",n.config.itemAutosize),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",n.state.items)("ngForTrackBy",n.trackByFn))},dependencies:[B,v.NgForOf,Oi],encapsulation:2,changeDetection:0})}}return t})(),Mi=(()=>{class t{constructor(){this.error=new C}get isActive(){return this.index===this.currIndex}get imageContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(i,n){i&2&&o.\u0275\u0275classProp("g-active-thumb",n.isActive)},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:6,consts:[[3,"error","src","alt","isThumbnail","loadingIcon","loadingError"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(o.\u0275\u0275elementStart(0,"gallery-image",0),o.\u0275\u0275listener("error",function(a){return n.error.emit(a)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(1,Zn,2,2,"div",1)),i&2&&(o.\u0275\u0275property("src",n.data.thumb)("alt",n.data.alt+"-thumbnail")("isThumbnail",!0)("loadingIcon",n.config.thumbLoadingIcon)("loadingError",n.config.thumbLoadingError),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",n.config.thumbTemplate))},dependencies:[B,v.NgIf,v.NgTemplateOutlet,Ni],encapsulation:2,changeDetection:0})}}return t})(),Do=(()=>{class t{get slider(){return this.sliderEl.nativeElement}constructor(e,i,n,s,a){this._el=e,this._zone=i,this._smoothScroll=n,this._cd=s,this._platform=a,this.thumbnailsView=ve,this._destroyed$=new E,this.thumbClick=new C,this.error=new C,this.items=new Gi}ngOnChanges(e){if(e.config){if(e.config.currentValue?.thumbPosition!==e.config.previousValue?.thumbPosition){switch(this.config.thumbPosition){case j.Right:case j.Left:this.adapter=new Pt(this.slider,this.config);break;case j.Top:case j.Bottom:this.adapter=new At(this.slider,this.config);break}this._platform.isBrowser&&(e.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&(!e.config.firstChange&&e.config.currentValue?.thumbMouseSlidingDisabled!==e.config.previousValue?.thumbMouseSlidingDisabled&&this.enableDisableGestures(),this.slider.style.setProperty("--thumb-height",`${this.config.thumbHeight}px`),this.slider.style.setProperty("--thumb-width",`${this.config.thumbWidth}px`))}this._platform.isBrowser&&e.state&&(e.state.firstChange||!this.config.thumbDetached)&&e.state.currentValue?.currIndex!==e.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,e.state?.firstChange?"auto":"smooth")})}ngAfterViewInit(){this._platform.isBrowser&&(setTimeout(()=>this.scrollToIndex(this.state.currIndex,"auto"),200),this._zone.runOutsideAngular(()=>{Hi(this._el.nativeElement).pipe(te(this.config.resizeDebounceTime),L(()=>{this.items.get(this.state.currIndex)?.nativeElement&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px")),this._cd.detectChanges(),this.scrollToIndex(this.state.currIndex,"auto")}),V(this._destroyed$)).subscribe()}))}ngAfterViewChecked(){this.items.get(this.state.currIndex)?.nativeElement&&this._platform.isBrowser&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this.deactivateGestures(),this._destroyed$.next(),this._destroyed$.complete()}trackByFn(e,i){return i.type}scrollToIndex(e,i){this._zone.runOutsideAngular(()=>{this.slider.style.scrollSnapType="unset";let n=this.items.get(e)?.nativeElement;n&&this._smoothScroll.scrollTo(this.slider,this.adapter.getScrollToValue(n,i)).then(()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType})})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.thumbMouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"&&!this.config.disableThumb){let e=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:e});let i=0;this._hammer.on("panstart",()=>{i=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding")}),this._hammer.on("panmove",n=>this.slider.scrollTo(this.adapter.getPanValue(i,n,"auto"))),this._hammer.on("panend",()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this.slider.classList.remove("g-sliding")})})}}deactivateGestures(){this._hammer?.destroy()}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(Wi),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(ye.Platform))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-thumbs"]],viewQuery:function(i,n){if(i&1&&(o.\u0275\u0275viewQuery(Fi,7),o.\u0275\u0275viewQuery(Mi,5,cn)),i&2){let s;o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.sliderEl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(n.items=s)}},inputs:{state:"state",config:"config"},outputs:{thumbClick:"thumbClick",error:"error"},features:[o.\u0275\u0275NgOnChangesFeature],decls:4,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(i,n){i&1&&(o.\u0275\u0275elementStart(0,"div",1,0)(2,"div",2),o.\u0275\u0275template(3,Jn,1,6,"gallery-thumb",3),o.\u0275\u0275elementEnd()()),i&2&&(o.\u0275\u0275attribute("centralised",n.config.thumbView===n.thumbnailsView.Contain||n.adapter.isContentLessThanContainer),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",n.state.items)("ngForTrackBy",n.trackByFn))},dependencies:[B,v.NgForOf,Mi],encapsulation:2,changeDetection:0})}}return t})(),zo=(()=>{class t{constructor(){this.itemClick=new C,this.thumbClick=new C,this.error=new C}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get thumbImageSize(){return this.config.thumbImageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}get slidingDisabled(){return this.config.slidingDisabled}get thumbSlidingDisabled(){return this.config.thumbSlidingDisabled}get itemAutosize(){return this.config.itemAutosize}get autoHeight(){return this.config.autoHeight}get thumbAutosize(){return this.config.thumbAutosize}get debug(){return this.config.debug}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery-core"]],hostVars:13,hostBindings:function(i,n){i&2&&o.\u0275\u0275attribute("thumbPosition",n.thumbPosition)("slidingDirection",n.slidingDirection)("disableThumb",n.disableThumb)("imageSize",n.imageSize)("thumbImageSize",n.thumbImageSize)("dotsPosition",n.dotsPosition)("counterPosition",n.counterPosition)("slidingDisabled",n.slidingDisabled)("thumbSlidingDisabled",n.thumbSlidingDisabled)("itemAutosize",n.itemAutosize)("autoHeight",n.autoHeight)("thumbAutosize",n.thumbAutosize)("debug",n.debug)},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:8,vars:12,consts:[[3,"state","config","thumbClick","error",4,"ngIf"],[1,"g-box"],[3,"itemClick","error","state","config","galleryId"],[3,"state","config","galleryId",4,"ngIf"],[3,"state",4,"ngIf"],[1,"g-box-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"thumbClick","error","state","config"],[3,"state","config","galleryId"],[3,"state"]],template:function(i,n){i&1&&(o.\u0275\u0275template(0,eo,1,2,"gallery-thumbs",0),o.\u0275\u0275elementStart(1,"div",1)(2,"gallery-slider",2),o.\u0275\u0275listener("itemClick",function(a){return n.itemClick.emit(a)})("error",function(a){return n.error.emit(a)}),o.\u0275\u0275template(3,to,1,3,"gallery-nav",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,io,1,3,"gallery-dots",3)(5,ro,1,1,"gallery-counter",4),o.\u0275\u0275elementStart(6,"div",5),o.\u0275\u0275template(7,no,1,0,"ng-container",6),o.\u0275\u0275elementEnd()()),i&2&&(o.\u0275\u0275property("ngIf",n.config.thumb),o.\u0275\u0275advance(2),o.\u0275\u0275property("state",n.state)("config",n.config)("galleryId",n.galleryId),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",n.config.nav&&n.state.items.length>1),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",n.config.dots),o.\u0275\u0275advance(),o.\u0275\u0275property("ngIf",n.config.counter),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",n.config.boxTemplate)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(9,Xn,n.state,n.config)))},dependencies:[B,v.NgIf,v.NgTemplateOutlet,Do,Eo,lo,ao,so],encapsulation:2,changeDetection:0})}}return t})(),Ao=(()=>{class t{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.TemplateRef))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:t,selectors:[["","galleryImageDef",""]]})}}return t})(),Po=(()=>{class t{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.TemplateRef))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:t,selectors:[["","galleryThumbDef",""]]})}}return t})(),Oo=(()=>{class t{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.TemplateRef))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:t,selectors:[["","galleryItemDef",""]]})}}return t})(),Mo=(()=>{class t{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(o.TemplateRef))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:t,selectors:[["","galleryBoxDef",""]]})}}return t})(),be=(()=>{class t{constructor(e){this._gallery=e,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.debug=this._gallery.config.debug,this.thumb=this._gallery.config.thumb,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.scrollBehavior=this._gallery.config.scrollBehavior,this.navScrollBehavior=this._gallery.config.navScrollBehavior,this.slidingDisabled=this._gallery.config.slidingDisabled,this.thumbSlidingDisabled=this._gallery.config.thumbSlidingDisabled,this.mouseSlidingDisabled=this._gallery.config.mouseSlidingDisabled,this.thumbMouseSlidingDisabled=this._gallery.config.thumbMouseSlidingDisabled,this.playerInterval=this._gallery.config.playerInterval,this.slidingDuration=this._gallery.config.slidingDuration,this.slidingEase=this._gallery.config.slidingEase,this.resizeDebounceTime=this._gallery.config.resizeDebounceTime,this.imageSize=this._gallery.config.imageSize,this.thumbImageSize=this._gallery.config.thumbImageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingAttr=this._gallery.config.loadingAttr,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.thumbView=this._gallery.config.thumbView,this.thumbDetached=this._gallery.config.thumbDetached,this.thumbAutosize=this._gallery.config.thumbAutosize,this.itemAutosize=this._gallery.config.itemAutosize,this.autoHeight=this._gallery.config.autoHeight,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new C,this.thumbClick=new C,this.playingChange=new C,this.indexChange=new C,this.itemsChange=new C,this.error=new C,this._itemClick$=S.EMPTY,this._thumbClick$=S.EMPTY,this._itemChange$=S.EMPTY,this._indexChange$=S.EMPTY,this._playingChange$=S.EMPTY,this._playerListener$=S.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,debug:this.debug,thumb:this.thumb,counter:this.counter,autoPlay:this.autoPlay,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbImageSize:this.thumbImageSize,scrollBehavior:this.scrollBehavior,navScrollBehavior:this.navScrollBehavior,thumbView:this.thumbView,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,slidingEase:this.slidingEase,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,loadingAttr:this.loadingAttr,thumbDetached:this.thumbDetached,thumbPosition:this.thumbPosition,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDuration:this.slidingDuration,slidingDirection:this.slidingDirection,resizeDebounceTime:this.resizeDebounceTime,slidingDisabled:this.slidingDisabled,thumbSlidingDisabled:this.thumbSlidingDisabled,mouseSlidingDisabled:this.mouseSlidingDisabled,thumbMouseSlidingDisabled:this.thumbMouseSlidingDisabled,thumbAutosize:this.thumbAutosize,itemAutosize:this.itemAutosize,autoHeight:this.autoHeight}}ngOnChanges(e){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),e.items&&e.items.currentValue!==e.items.previousValue&&this.load(this.items))}ngOnInit(){this.skipInitConfig?this.galleryRef=this._gallery.ref(this.id):this.galleryRef=this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observed&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(e=>this.indexChange.emit(e))),this.itemsChange.observed&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(e=>this.itemsChange.emit(e))),this.playingChange.observed&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(e=>this.playingChange.emit(e))),this.autoPlay&&this.play()}ngAfterContentInit(){let e={};this.galleryItemDef&&(e.itemTemplate=this.galleryItemDef.templateRef),this.galleryImageDef&&(e.imageTemplate=this.galleryImageDef.templateRef),this.galleryThumbDef&&(e.thumbTemplate=this.galleryThumbDef.templateRef),this.galleryBoxDef&&(e.boxTemplate=this.galleryBoxDef.templateRef),Object.keys(e).length&&this.galleryRef.setConfig(e)}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(e){this.itemClick.emit(e),this.galleryRef.itemClick.next(e)}onThumbClick(e){this.galleryRef.set(e),this.thumbClick.emit(e),this.galleryRef.thumbClick.next(e)}onError(e){this.error.emit(e),this.galleryRef.error.next(e)}load(e){this.galleryRef.load(e)}add(e,i){this.galleryRef.add(e,i)}addImage(e,i){this.galleryRef.addImage(e,i)}addVideo(e,i){this.galleryRef.addVideo(e,i)}addIframe(e,i){this.galleryRef.addIframe(e,i)}addYoutube(e,i){this.galleryRef.addYoutube(e,i)}remove(e){this.galleryRef.remove(e)}next(e,i){this.galleryRef.next(e,i)}prev(e,i){this.galleryRef.prev(e,i)}set(e,i){this.galleryRef.set(e,i)}reset(){this.galleryRef.reset()}play(e){this.galleryRef.play(e)}stop(){this.galleryRef.stop()}static{this.\u0275fac=function(i){return new(i||t)(o.\u0275\u0275directiveInject(tt))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["gallery"]],contentQueries:function(i,n,s){if(i&1&&(o.\u0275\u0275contentQuery(s,Oo,5),o.\u0275\u0275contentQuery(s,Ao,5),o.\u0275\u0275contentQuery(s,Po,5),o.\u0275\u0275contentQuery(s,Mo,5)),i&2){let a;o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.galleryItemDef=a.first),o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.galleryImageDef=a.first),o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.galleryThumbDef=a.first),o.\u0275\u0275queryRefresh(a=o.\u0275\u0275loadQuery())&&(n.galleryBoxDef=a.first)}},inputs:{id:"id",items:"items",nav:"nav",dots:"dots",loop:"loop",debug:"debug",thumb:"thumb",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",scrollBehavior:"scrollBehavior",navScrollBehavior:"navScrollBehavior",slidingDisabled:"slidingDisabled",thumbSlidingDisabled:"thumbSlidingDisabled",mouseSlidingDisabled:"mouseSlidingDisabled",thumbMouseSlidingDisabled:"thumbMouseSlidingDisabled",playerInterval:"playerInterval",slidingDuration:"slidingDuration",slidingEase:"slidingEase",resizeDebounceTime:"resizeDebounceTime",imageSize:"imageSize",thumbImageSize:"thumbImageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingAttr:"loadingAttr",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",thumbView:"thumbView",thumbDetached:"thumbDetached",thumbAutosize:"thumbAutosize",itemAutosize:"itemAutosize",autoHeight:"autoHeight",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[o.\u0275\u0275NgOnChangesFeature],decls:3,vars:7,consts:[[3,"itemClick","thumbClick","error","galleryId","state","config"]],template:function(i,n){i&1&&(o.\u0275\u0275elementStart(0,"gallery-core",0),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275listener("itemClick",function(a){return n.onItemClick(a)})("thumbClick",function(a){return n.onThumbClick(a)})("error",function(a){return n.onError(a)}),o.\u0275\u0275elementEnd()),i&2&&o.\u0275\u0275property("galleryId",n.id)("state",o.\u0275\u0275pipeBind1(1,3,n.galleryRef.state))("config",o.\u0275\u0275pipeBind1(2,5,n.galleryRef.config))},dependencies:[B,v.AsyncPipe,zo],styles:['gallery-core[dotsPosition=top] gallery-dots{top:15px}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:15px}  gallery-dots{position:absolute;left:50%;z-index:99;transform:translate(-50%);display:flex;gap:6px}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1}  .g-dot-inner{background-color:var(--g-overlay-color);opacity:.4;width:100%;height:100%;border-radius:50%;transition:opacity linear .15s}  gallery-dots,   .g-dot,   .g-dot-inner{display:flex;justify-content:center;align-items:center}  .g-nav-next,   .g-nav-prev{position:absolute;top:50%;display:flex;padding:16px 8px;cursor:pointer;z-index:999;opacity:.6;transition:opacity linear .15s,right linear .15s,left linear .15s}  .g-nav-next:hover,   .g-nav-prev:hover{opacity:1}  .g-nav-next svg,   .g-nav-prev svg{filter:var(--g-nav-drop-shadow);width:28px;height:28px;fill:#fff}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-next:hover{right:.4em}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}  .g-nav-prev:hover{left:.4em}@media only screen and (max-width: 480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  gallery-slider{position:relative;display:flex;align-items:center;justify-content:center}  gallery-slider .g-slider[centralised=true]:before,   gallery-slider .g-slider[centralised=true]:after{content:""}  gallery-slider .g-slider[centralised=true]:before{flex:0 0 var(--slider-centralize-start-size)}  gallery-slider .g-slider[centralised=true]:after{flex:0 0 var(--slider-centralize-end-size)}  .g-slider-content{flex:0 0 auto;display:flex;align-items:center;gap:1px}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider{overflow-x:auto;overflow-y:hidden;scroll-snap-type:x mandatory;flex-direction:row}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider-content{flex-direction:row;height:100%}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider{overflow-x:hidden;overflow-y:auto;scroll-snap-type:y mandatory;flex-direction:column}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider-content{flex-direction:column;width:100%}  gallery-core[slidingDisabled=true] .g-slider{overflow:hidden!important}  .g-slider{display:flex;align-items:center;width:100%;transition:var(--g-height-transition);scrollbar-width:none;-ms-overflow-style:none}  .g-slider::-webkit-scrollbar{display:none}  .g-slider.g-sliding .g-slider-content,   .g-slider.g-scrolling .g-slider-content{pointer-events:none}  .g-slider gallery-thumb,   .g-slider gallery-item{display:flex;flex-direction:column;flex:0 0 auto;scroll-snap-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}  .g-slider gallery-thumb gallery-image[imageState=success],   .g-slider gallery-item gallery-image[imageState=success]{align-self:center}  gallery-thumbs{max-height:100%;max-width:100%;display:block;z-index:100}  gallery-thumbs .g-slider[centralised=true]:before,   gallery-thumbs .g-slider[centralised=true]:after{content:""}  gallery-thumbs .g-slider[centralised=true]:before{flex:0 0 var(--thumb-centralize-start-size)}  gallery-thumbs .g-slider[centralised=true]:after{flex:0 0 var(--thumb-centralize-end-size)}  gallery-thumbs .g-slider gallery-thumb{background:black;height:var(--thumb-height);width:var(--thumb-width);max-height:var(--thumb-height);max-width:var(--thumb-width)}  gallery-thumbs .g-slider gallery-thumb gallery-image,   gallery-thumbs .g-slider gallery-thumb img{width:100%;height:100%}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{top:0;overflow-x:auto;flex-direction:row}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider-content{flex-direction:row}  gallery-core[thumbPosition=top][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=bottom][thumbAutosize=true] gallery-thumb{width:initial;max-width:unset}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{left:0;overflow-y:auto;flex-direction:column}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider-content{flex-direction:column}  gallery-core[thumbPosition=left][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=right][thumbAutosize=true] gallery-thumb{height:initial;max-height:unset}  gallery-core[thumbSlidingDisabled=true] gallery-thumbs .g-slider{overflow:hidden!important}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{position:relative;overflow:hidden;width:100%;height:100%;background-color:#262626}  .g-thumb-loading:before{content:"";position:absolute;inset:0 0 0 50%;z-index:1;width:500%;margin-left:-250%;animation:_ngcontent-%COMP%_phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@keyframes _ngcontent-%COMP%_phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}  gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}  .g-counter{font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.6;transition:opacity linear .15s;z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:var(--g-font-color);background-color:var(--g-overlay-color);box-shadow:var(--g-box-shadow)}  .g-counter:hover{opacity:.8}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-core{gap:1px}  gallery-image img{width:100%!important}  .gallery-image-error svg,   .gallery-thumb-error svg{width:100%;height:100%}  .gallery-thumb-error{width:40px;height:40px}  .gallery-image-error{width:100px;height:100px}  gallery-item,   gallery-thumb{position:relative;display:block;overflow:hidden}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item gallery-image,   gallery-thumb gallery-image{transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-item{--g-item-width: "auto";--g-item-height: 100%;height:var(--g-item-height);width:var(--g-item-width);max-height:var(--g-item-height);max-width:100%;z-index:10}  gallery-item gallery-image{width:100%;height:100%}  gallery-item.g-active-item gallery-image{opacity:1}  gallery-item video,   gallery-item iframe{position:absolute;width:100%;height:100%}  gallery-thumb{align-self:center;cursor:pointer;max-height:100%}  gallery-thumb gallery-image{opacity:.5}  gallery-thumb.g-active-thumb gallery-image{opacity:1}  gallery-image{min-height:100%;display:flex}  .g-image-item{pointer-events:none;max-height:100%;max-width:100%}  .g-template,   .g-image-error-message{position:absolute;z-index:10;inset:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}  .g-loading{position:absolute;transform:translate3d(-50%,-50%,0);left:50%;top:50%;width:80px;height:80px}  gallery-core[imageSize=contain] gallery-item .g-image-item{-o-object-fit:contain;object-fit:contain}  gallery-core[imageSize=cover] gallery-item .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery-core[thumbImageSize=cover] gallery-thumb .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery{position:relative;z-index:1;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#000;--g-height-transition: height .4s linear;--g-nav-drop-shadow: drop-shadow(0 0 2px rgba(0, 0, 0, .6));--g-box-shadow: 0 0 3px rgba(0, 0, 0, .6);--g-font-color: #000;--g-overlay-color: #fff}  gallery *{box-sizing:border-box}  gallery,   gallery-core{position:relative;overflow:hidden}  gallery-core{max-height:100%;min-height:100%;height:500px}  gallery-core,   .g-box,   .g-slider{display:flex;width:100%;max-height:100%}  .g-box,   gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;order:1;flex:1}  gallery-core[autoHeight=true][thumbPosition=top],   gallery-core[autoHeight=true][thumbPosition=bottom]{height:-moz-fit-content!important;height:fit-content!important}  gallery-core[autoHeight=true][thumbPosition=top] .g-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] .g-slider{height:100%}  gallery-core[autoHeight=true][thumbPosition=top] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=top] gallery-core,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-core{height:100%}  gallery-core[autoHeight=true] gallery-item{min-height:100%}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[autoHeight=false][slidingDirection=horizontal] gallery-item,   gallery-core[autoHeight=false][slidingDirection=horizontal] .g-slider{height:100%}  gallery-core[itemAutoSize=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item{height:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[debug=true] gallery-slider:after,   gallery-core[debug=true] gallery-slider:before{position:absolute;content:"";background:lime;box-shadow:0 0 5px #0f0;z-index:99999}  gallery-core[debug=true] gallery-slider:before{width:100%;height:1px}  gallery-core[debug=true] gallery-slider:after{height:100%;width:1px}  gallery-core[debug=true] gallery-slider gallery-item{outline:1px solid darkorange}  .g-box-template{position:absolute;z-index:10}'],changeDetection:0})}}return t})(),hp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=o.\u0275\u0275defineInjector({imports:[be]})}}return t})();import{inject as Ft}from"@angular/core";import{switchMap as Xi,tap as _e,filter as ko,map as er}from"rxjs/operators";import{TokenizerService as Go}from"@rollthecloudinc/token";import"@angular/core";import{map as Yi,switchMap as Gt,tap as Qi}from"rxjs/operators";import*as xe from"@angular/core";import*as Ki from"@rollthecloudinc/content";import*as Zi from"@rollthecloudinc/panels";var Ji=(()=>{class t{constructor(e,i){this.cpm=e,this.panelResolver=i}resolveItems(e,i){return console.log("resolveItems Top 3"),_(e).pipe(Gt(n=>{if(console.log("resolveItems Top 2"),n.bindingOption&&n.bindingOption!==""){let s=i.has("panes")?i.get("panes").find(a=>a.name===n.bindingOption):void 0;return console.log("resolveItems Top"),this.panelResolver.dataPanes(i.get("panes")).pipe(Qi(()=>console.log("resolveItems Before")),Gt(a=>this.cpm.getPlugin("datasource").pipe(Yi(l=>({dataPanes:a,dspHandler:l.handler})))),Gt(({dataPanes:a,dspHandler:l})=>s?l.fetchDynamicData(s.settings,new Map([...i,["dataPanes",a]])):_([])),Qi(a=>console.log("resolveItems After",a.results)),Yi(a=>a.results))}else return _([n,[]])}))}static{this.\u0275fac=function(i){return new(i||t)(xe.\u0275\u0275inject(Ki.ContentPluginManager),xe.\u0275\u0275inject(Zi.PanelResolverService))}}static{this.\u0275prov=xe.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();import*as b from"@angular/core";import*as it from"@angular/common";function Fo(t,r){if(t&1&&(b.\u0275\u0275elementContainerStart(0),b.\u0275\u0275element(1,"gallery",1),b.\u0275\u0275elementContainerEnd()),t&2){let e=r.ngIf;b.\u0275\u0275advance(),b.\u0275\u0275property("id","myGalleryId")("items",e)}}var tr=(()=>{class t{set settings(e){console.log("Gallery Item settings"),this.settings$.next(e)}set panes(e){console.log("Gallery Item Panes"),this.panes$.next(e)}set originPanes(e){console.log("Gallery Item originPanes"),this.originPanes$.next(e)}set contexts(e){console.log("Gallery Item contexts"),this.contexts$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}constructor(){this.rendered=!1,this.handler=Ft(ne),this.tokenizerService=Ft(Go),this.itemsResolver=Ft(Ji),this.items=[{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}},{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}},{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}}],this.init$=new E,this.afterContentInit$=new E,this.afterViewInit$=new E,this.settings$=new O([]),this.galleryItem$=new O(void 0),this.resolvedContext$=new O(void 0),this.contexts$=new O([]),this.panes$=new O([]),this.originPanes$=new O([]),this.items$=new O(this.items),this.galleryItemSub=this.settings$.pipe(Xi(e=>this.handler.toObject(e)),ko(e=>!!e),_e(()=>console.log("Gallery Item galleryItem")),_e(e=>this.galleryItem$.next(e))).subscribe(),this.itemsSub=dt([this.galleryItem$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe(_e(()=>console.log("Start pipeline")),er(([e,i,n,s])=>({galleryItem:e,metadata:new Map([["panes",[...i&&Array.isArray(i)?i:[],...n&&Array.isArray(n)?n:[]]],["contexts",s]])})),Xi(({galleryItem:e,metadata:i})=>(console.log("resolveItems Parent"),this.itemsResolver.resolveItems(e,i).pipe(er(n=>({galleryItem:e,results:n}))))),_e(({results:e})=>console.log("Gallery Item Data Panes",e)),_e(({results:e,galleryItem:i})=>{let n=[];e.forEach(s=>{let a=this.tokenizerService.generateGenericTokens(s,""),l=i.typeMapping&&i.typeMapping!==""?this.replaceTokens(i.typeMapping.trim(),a):void 0,c=i.imageMapping&&i.imageMapping!==""?this.replaceTokens(i.imageMapping.trim(),a):void 0,m=i.videoMapping&&i.videoMapping!==""?this.replaceTokens(i.videoMapping.trim(),a):void 0,f=i.youtubeMapping&&i.youtubeMapping!==""?this.replaceTokens(i.youtubeMapping.trim(),a):void 0,y=i.iframeMapping&&i.iframeMapping!==""?this.replaceTokens(i.iframeMapping.trim(),a):void 0;switch(l===void 0&&(c!==void 0?l="image":m!==void 0?l="video":f!==void 0?l="youtube":y!==void 0&&(l="iframe")),l){case"iframe":n.push({type:"iframe",data:{src:y}});break;case"youtube":n.push({type:"youtube",data:{src:f}});break;case"video":n.push({type:"video",data:{src:m}});break;case"image":default:n.push({type:"image",data:{src:c,thumb:c}})}}),this.items$.next(n)})).subscribe(),console.log("gallery item component constructor")}ngOnInit(){this.init$.next(void 0),this.init$.complete()}ngAfterViewInit(){this.rendered=!0,this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}replaceTokens(e,i){return i.forEach((n,s)=>{e=e.split(`[${s}]`).join(`${n}`)}),e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b.\u0275\u0275defineComponent({type:t,selectors:[["solid-gallery-gallery-item"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},standalone:!1,features:[b.\u0275\u0275ProvidersFeature([ne])],decls:2,vars:3,consts:[[4,"ngIf"],[3,"id","items"]],template:function(i,n){i&1&&(b.\u0275\u0275template(0,Fo,2,2,"ng-container",0),b.\u0275\u0275pipe(1,"async")),i&2&&b.\u0275\u0275property("ngIf",b.\u0275\u0275pipeBind1(1,1,n.items$))},dependencies:[it.NgIf,be,it.AsyncPipe],encapsulation:2})}}return t})();import{inject as rt}from"@angular/core";import{FormControl as Y,FormGroup as ir,UntypedFormArray as Ro,UntypedFormControl as nt}from"@angular/forms";import{MAT_DIALOG_DATA as Vo,MatDialogRef as Lo}from"@angular/material/dialog";import{AttributeSerializerService as Ho}from"@rollthecloudinc/attributes";import*as u from"@angular/core";import*as rr from"@angular/common";import*as P from"@angular/forms";import*as nr from"@angular/material/autocomplete";import*as or from"@angular/material/button";import*as oe from"@angular/material/dialog";import*as se from"@angular/material/input";import*as sr from"@angular/material/select";function No(t,r){if(t&1&&(u.\u0275\u0275elementStart(0,"mat-option",10),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),t&2){let e=r.$implicit;u.\u0275\u0275property("value",e),u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate(e)}}var ar=(()=>{class t{constructor(){this.dialogRef=rt(Lo),this.dialogData=rt(Vo),this.handler=rt(ne),this.attributeSerializer=rt(Ho),this.bindableOptions=[],this.contentForm=new ir({bindingOption:new Y(""),query:new Y(""),typeMapping:new Y(""),imageMapping:new Y(""),videoMapping:new Y(""),youtubeMapping:new Y(""),iframeMapping:new Y("")}),console.log("gallery item editor component constructor")}ngOnInit(){this.bindableOptions=this.dialogData.panelFormGroup.get("panes").controls.reduce((e,i)=>i.get("name").value?[...e,i.get("name").value]:[...e],[]),this.dialogData.pane!==void 0&&this.handler.toObject(this.dialogData.pane.settings).subscribe(e=>{this.galleryItem=e,this.contentForm.get("bindingOption").patchValue(this.galleryItem.bindingOption),this.contentForm.get("query").patchValue(this.galleryItem.query),this.contentForm.get("typeMapping").patchValue(this.galleryItem.typeMapping),this.contentForm.get("imageMapping").patchValue(this.galleryItem.imageMapping),this.contentForm.get("videoMapping").patchValue(this.galleryItem.videoMapping),this.contentForm.get("youtubeMapping").patchValue(this.galleryItem.youtubeMapping),this.contentForm.get("iframeMapping").patchValue(this.galleryItem.iframeMapping)})}submit(){let e;this.dialogData.paneIndex===void 0?(this.dialogData.panelFormGroup.get("panes").push(new ir({contentPlugin:new nt("gallery_gallery_item"),name:new nt(""),label:new nt(""),rule:new nt(""),settings:new Ro([])})),e=this.dialogData.panelFormGroup.get("panes").length-1):e=this.dialogData.paneIndex;let i=this.dialogData.panelFormGroup.get("panes").at(e),n=this.contentForm.get("bindingOption").value,s=this.contentForm.get("query").value,a=this.contentForm.get("typeMapping").value,l=this.contentForm.get("imageMapping").value,c=this.contentForm.get("videoMapping").value,m=this.contentForm.get("youtubeMapping").value,f=this.contentForm.get("iframeMapping").value,y=new re({query:s,typeMapping:a,imageMapping:l,videoMapping:c,youtubeMapping:m,iframeMapping:f,bindingOption:n});i.get("settings").clear(),this.handler.buildSettings(y).map(z=>this.attributeSerializer.convertToGroup(z)).forEach(z=>i.get("settings").push(z)),this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=u.\u0275\u0275defineComponent({type:t,selectors:[["solid-gallery-gallery-item-editor"]],standalone:!1,features:[u.\u0275\u0275ProvidersFeature([ne])],decls:41,vars:3,consts:[[3,"ngSubmit","formGroup"],["required","","formControlName","bindingOption"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","query"],["matInput","","formControlName","typeMapping"],["matInput","","formControlName","imageMapping"],["matInput","","formControlName","videoMapping"],["matInput","","formControlName","youtubeMapping"],["matInput","","formControlName","iframeMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(i,n){i&1&&(u.\u0275\u0275elementStart(0,"form",0),u.\u0275\u0275listener("ngSubmit",function(){return n.submit()}),u.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div")(3,"mat-form-field")(4,"mat-label"),u.\u0275\u0275text(5,"Binding"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"mat-select",1),u.\u0275\u0275template(7,No,2,2,"mat-option",2),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(8,"div")(9,"mat-form-field")(10,"mat-label"),u.\u0275\u0275text(11,"Path Query"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(12,"input",3),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(13,"div")(14,"mat-form-field")(15,"mat-label"),u.\u0275\u0275text(16,"Type Token"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(17,"input",4),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(18,"div")(19,"mat-form-field")(20,"mat-label"),u.\u0275\u0275text(21,"Image Src Token"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(22,"input",5),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(23,"div")(24,"mat-form-field")(25,"mat-label"),u.\u0275\u0275text(26,"Video Src Token"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(27,"input",6),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(28,"div")(29,"mat-form-field")(30,"mat-label"),u.\u0275\u0275text(31,"Youtube Src Token"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(32,"input",7),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(33,"div")(34,"mat-form-field")(35,"mat-label"),u.\u0275\u0275text(36,"IFrame Src Token"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(37,"input",8),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(38,"mat-dialog-actions")(39,"button",9),u.\u0275\u0275text(40,"Save"),u.\u0275\u0275elementEnd()()()),i&2&&(u.\u0275\u0275property("formGroup",n.contentForm),u.\u0275\u0275advance(7),u.\u0275\u0275property("ngForOf",n.bindableOptions),u.\u0275\u0275advance(32),u.\u0275\u0275property("disabled",!n.contentForm.valid))},dependencies:[rr.NgForOf,P.\u0275NgNoValidate,P.DefaultValueAccessor,P.NgControlStatus,P.NgControlStatusGroup,P.RequiredValidator,P.FormGroupDirective,P.FormControlName,nr.MatOption,or.MatButton,oe.MatDialogClose,oe.MatDialogActions,oe.MatDialogContent,se.MatInput,se.MatFormField,se.MatLabel,sr.MatSelect],encapsulation:2})}}return t})();import"@angular/core";import*as ae from"@angular/core";var lr=(()=>{class t{constructor(){this.items=[{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}},{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}},{type:"image",data:{src:"https://cdn.pixabay.com/photo/2012/02/16/12/08/test-13394_1280.jpg",thumb:"IMAGE_THUMBNAIL_URL"}}]}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=ae.\u0275\u0275defineComponent({type:t,selectors:[["solid-gallery-gallery-render"]],standalone:!1,decls:1,vars:1,consts:[[3,"items"]],template:function(i,n){i&1&&ae.\u0275\u0275element(0,"gallery",0),i&2&&ae.\u0275\u0275property("items",n.items)},dependencies:[be],encapsulation:2})}}return t})();import{ContentPlugin as cr}from"@rollthecloudinc/content";import{StylePlugin as jo}from"@rollthecloudinc/panels";var Yp=({handler:t})=>new cr({id:"plugin_download",title:"Plugin Download",selectionComponent:void 0,editorComponent:void 0,renderComponent:Vt,handler:t}),Qp=()=>new jo({id:"gallery_gallery",title:"Gallery",editorComponent:void 0,renderComponent:lr}),Kp=({handler:t})=>new cr({id:"gallery_gallery_item",title:"Gallery Item",selectionComponent:void 0,editorComponent:ar,renderComponent:tr,handler:t});export{_ as a,ne as b,hp as c,Yp as d,Qp as e,Kp as f};
